/*! For license information please see phrasecloud.bundle.js.LICENSE.txt */
(()=>{var t={28:(t,n,e)=>{"use strict";e.d(n,{Z:()=>u});var r=e(8081),a=e.n(r),o=e(3645),i=e.n(o)()(a());i.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600&display=swap);"]),i.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Manrope:wght@400;800&display=swap);"]),i.push([t.id,"svg#cloud {\n    /* Text is not selectable */\n    user-select: none;\n    \n    /* Default font for the text */\n    /* This also ensures that it will display and hence load */\n    font-family: 'Manrope', sans-serif;\n    font-weight: 800;\n}\n\ninput[type=\"file\"] {\n    max-width: 13em;\n}\n\nselect#columnSelect {\n    max-width: 10em;\n\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n\n\n\n#responsesEmpty {\n    color: #999;\n    margin: 16px 0;\n}\n\n#responses ul {\n    padding: 0 0;\n    margin: 0;\n}\n\n#responses li {\n    list-style-type: none;\n    padding: 0 0;\n    margin: 8px 0;\n\n    background-color: white;\n\n    padding: 8px 12px;\n    box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.3);\n    border-radius: 8px;\n\n}\n\n#responses li span.match {\n    background-color: #ffcc00;\n\n    /* cursor: grab; */\n}\n\n#cloud text {\n    cursor: pointer;\n    transition: font-size 0.5s ease, transform 0.5s ease;\n    -webkit-transition: font-size 0.5s ease, -webkit-transform 0.5s ease;\n}\n\n#cloud text.selected {\n    text-decoration: underline;\n}\n\n#cloud text:hover {\n    fill: #ffcc00;\n}\n\n#dropZone {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n}\n\n#dropZone div {\n    pointer-events: none;\n}\n\n.dropZoneBox {\n    /* Fill the parent */\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    background: rgba(255, 255, 255, 0.9);\n\n    pointer-events: none;\n    z-index: 100;\n\n}\n\n.dropZoneBox .outline {\n    /* Fill the parent */\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    margin: 32px;\n    padding: 32px;\n\n    z-index: 100;\n\n    /* Align the text to the centre of the dropzone */\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    font-size: min(64px, 5vh);\n\n\n\n    border: 4px black dashed;\n    border-radius: 8px;\n}\n\nbody {\n    font-family: 'Quicksand', sans-serif;\n    font-weight: 400;\n\n    background-color: #f8f8f8;\n}\n\n.collapsible .expandedContent {\n    max-height: 0px;\n    overflow: hidden;\n}\n\n.collapsible.expanded .expandedContent {\n    max-height: none;\n\n    margin-block-end: 8px;\n\n    overflow: initial;\n}\n\n\n.contentWithSidePanel {\n    flex: 1;\n    height: 100%;\n\n    display: flex;\n    position: relative;\n}\n\n.contentWithSidePanel > .content {\n    /* Other styles */\n    flex: 1; /* Adjust as needed */\n}\n\n.contentWithSidePanel > .sidePanel {\n    width: 300px;\n    max-width: 30px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    position: relative;\n}\n\n.sidePanel #responses {\n    overflow-y: auto;\n    height: 100%;\n    width: 100%;\n\n    padding: 0 16px;\n    box-sizing: border-box;\n\n    flex: 1;\n}\n\n.contentWithSidePanel > .sidePanel.expanded {\n    max-width: initial;\n}\n\n@media (max-width: 600px) {\n    .contentWithSidePanel > .sidePanel {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 1;\n\n        background-color: #f8f8f8;\n\n        width: 50vw;\n        max-width: 0px;\n\n        box-shadow: 0px 5px 15px 0px rgba(0,0,0,0.3);\n    }\n}\n\nbody {\n    display: flex;\n    flex-direction: column;\n\n    height: 100dvh;\n    margin: 0;\n    padding: 8px;\n    box-sizing: border-box;\n}\n\nbody > .header {\n    flex: 0 0 auto;\n}\n\nbody > .content {\n    flex: 1; /* Adjusted to fill up remaining space */\n    height: 100%;\n    overflow: hidden;\n\n    display:flex;\n    flex-direction: column;    \n}",""]);const u=i},3645:t=>{"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var u=0;u<this.length;u++){var l=this[u][0];null!=l&&(i[l]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),n.push(c))}},n}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},6929:(t,n,e)=>{const r=e(8297).W,a=Math.PI/180,o={archimedean:v,rectangular:function(t){var n=4*t[0]/t[1],e=0,r=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:e+=n;break;case 1:r+=4;break;case 2:e-=n;break;default:r-=4}return[e,r]}}},i=2048;function u(t){return t.text}function l(){return"serif"}function s(){return"normal"}function c(t){return Math.sqrt(t.value)}function f(){return 30*(~~(6*random())-3)}function h(){return 1}function p(t,n,e,r){if(!n.sprite){var o=t.context,u=t.ratio;o.clearRect(0,0,2048/u,i/u);var l=0,s=0,c=0,f=e.length;for(--r;++r<f;){n=e[r],o.save(),o.font=n.style+" "+n.weight+" "+~~((n.size+1)/u)+"px "+n.font;const t=o.measureText(n.text),f=-Math.floor(t.width/2);let y=(t.width+1)*u,b=n.size<<1;if(n.rotate){var h=Math.sin(n.rotate*a),p=Math.cos(n.rotate*a),d=y*p,g=y*h,v=b*p,m=b*h;y=Math.max(Math.abs(d+m),Math.abs(d-m))+31>>5<<5,b=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else y=y+31>>5<<5;if(b>c&&(c=b),l+y>=2048&&(l=0,s+=c,c=0),s+b>=i)break;o.translate((l+(y>>1))/u,(s+(b>>1))/u),n.rotate&&o.rotate(n.rotate*a),o.fillText(n.text,f,0),n.padding&&(o.lineWidth=2*n.padding,o.strokeText(n.text,f,0)),o.restore(),n.width=y,n.height=b,n.xoff=l,n.yoff=s,n.x1=y>>1,n.y1=b>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,l+=y}for(var y=o.getImageData(0,0,2048/u,i/u).data,b=[];--r>=0;)if((n=e[r]).hasText){for(var w=n.width,x=w>>5,_=n.y1-n.y0,k=0;k<_*x;k++)b[k]=0;if(null==(l=n.xoff))return;s=n.yoff;for(var M=0,N=-1,A=0;A<_;A++){for(k=0;k<w;k++){var E=x*A+(k>>5),$=y[2048*(s+A)+(l+k)<<2]?1<<31-k%32:0;b[E]|=$,M|=$}M?N=A:(n.y0++,_--,A--,s++)}n.y1=n.y0+N,n.sprite=b.slice(0,(n.y1-n.y0)*x)}}}function d(t,n,e){e>>=5;for(var r,a=t.sprite,o=t.width>>5,i=t.x-(o<<4),u=127&i,l=32-u,s=t.y1-t.y0,c=(t.y+t.y0)*e+(i>>5),f=0;f<s;f++){r=0;for(var h=0;h<=o;h++)if((r<<l|(h<o?(r=a[f*o+h])>>>u:0))&n[c+h])return!0;c+=e}return!1}function g(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function v(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function m(){return document.createElement("canvas")}function y(t){return"function"==typeof t?t:function(){return t}}t.exports=function(){var t=[256,256],n=u,e=l,a=c,b=s,w=s,x=f,_=h,k=v,M=[],N=1/0,A=r("word","end"),E=null,$=Math.random,S={},C=m;function I(n,e,r){t[0],t[1];for(var a,o,i,u,l,s=e.x,c=e.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),h=k(t),p=$()<.5?1:-1,g=-p;(a=h(g+=p))&&(o=~~a[0],i=~~a[1],!(Math.min(Math.abs(o),Math.abs(i))>=f));)if(e.x=s+o,e.y=c+i,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>t[0]||e.y+e.y1>t[1]||r&&(l=r,!((u=e).x+u.x1>l[0].x&&u.x+u.x0<l[1].x&&u.y+u.y1>l[0].y&&u.y+u.y0<l[1].y))||d(e,n,t[0]))){for(var v,m=e.sprite,y=e.width>>5,b=t[0]>>5,w=e.x-(y<<4),x=127&w,_=32-x,M=e.y1-e.y0,N=(e.y+e.y0)*b+(w>>5),A=0;A<M;A++){v=0;for(var E=0;E<=y;E++)n[N+E]|=v<<_|(E<y?(v=m[A*y+E])>>>x:0);N+=b}return!0}return!1}return S.canvas=function(t){return arguments.length?(C=y(t),S):C},S.start=function(){var r=function(t){const n=t.getContext("2d",{willReadFrequently:!0});t.width=t.height=1;const e=Math.sqrt(n.getImageData(0,0,1,1).data.length>>2);return t.width=2048/e,t.height=i/e,n.fillStyle=n.strokeStyle="red",{context:n,ratio:e}}(C()),o=function(t){for(var n=[],e=-1;++e<t;)n[e]=0;return n}((t[0]>>5)*t[1]),u=null,l=M.length,s=-1,c=[],f=M.map((function(t,r){return t.text=n.call(this,t,r),t.font=e.call(this,t,r),t.style=b.call(this,t,r),t.weight=w.call(this,t,r),t.rotate=x.call(this,t,r),t.size=~~a.call(this,t,r),t.padding=_.call(this,t,r),t})).sort((function(t,n){return n.size-t.size}));return E&&clearInterval(E),E=setInterval(h,0),h(),S;function h(){for(var n=Date.now();Date.now()-n<N&&++s<l&&E;){var e=f[s];e.x=t[0]*($()+.5)>>1,e.y=t[1]*($()+.5)>>1,p(r,e,f,s),e.hasText&&I(o,e,u)&&(c.push(e),A.call("word",S,e),u?g(u,e):u=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}s>=l&&(S.stop(),A.call("end",S,c,u))}},S.stop=function(){E&&(clearInterval(E),E=null);for(const t of M)delete t.sprite;return S},S.timeInterval=function(t){return arguments.length?(N=null==t?1/0:t,S):N},S.words=function(t){return arguments.length?(M=t,S):M},S.size=function(n){return arguments.length?(t=[+n[0],+n[1]],S):t},S.font=function(t){return arguments.length?(e=y(t),S):e},S.fontStyle=function(t){return arguments.length?(b=y(t),S):b},S.fontWeight=function(t){return arguments.length?(w=y(t),S):w},S.rotate=function(t){return arguments.length?(x=y(t),S):x},S.text=function(t){return arguments.length?(n=y(t),S):n},S.spiral=function(t){return arguments.length?(k=o[t]||t,S):k},S.fontSize=function(t){return arguments.length?(a=y(t),S):a},S.padding=function(t){return arguments.length?(_=y(t),S):_},S.random=function(t){return arguments.length?($=t,S):$},S.on=function(){var t=A.on.apply(A,arguments);return t===A?S:t},S}},8297:(t,n,e)=>{"use strict";e.d(n,{W:()=>l});var r={value:function(){}};function a(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function i(t,n){for(var e,r=0,a=t.length;r<a;++r)if((e=t[r]).name===n)return e.value}function u(t,n,e){for(var a=0,o=t.length;a<o;++a)if(t[a].name===n){t[a]=r,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=a.prototype={constructor:o,on:function(t,n){var e,r,a=this._,o=(r=a,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),l=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++l<s;)if(e=(t=o[l]).type)a[e]=u(a[e],t.name,n);else if(null==n)for(e in a)a[e]=u(a[e],t.name,null);return this}for(;++l<s;)if((e=(t=o[l]).type)&&(e=i(a[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new o(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,a=new Array(e),o=0;o<e;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,a)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,o=r.length;a<o;++a)r[a].value.apply(n,e)}};const l=a},3379:t=>{"use strict";var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var o={},i=[],u=0;u<t.length;u++){var l=t[u],s=r.base?l[0]+r.base:l[0],c=o[s]||0,f="".concat(s," ").concat(c);o[s]=c+1;var h=e(f),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)n[h].references++,n[h].updater(p);else{var d=a(p,r);r.byIndex=u,n.splice(u,0,{identifier:f,updater:d,references:1})}i.push(f)}return i}function a(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var u=e(o[i]);n[u].references--}for(var l=r(t,a),s=0;s<o.length;s++){var c=e(o[s]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}o=l}}},569:t=>{"use strict";var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},9216:t=>{"use strict";t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},3565:(t,n,e)=>{"use strict";t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var a=void 0!==e.layer;a&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,a&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},4589:t=>{"use strict";t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},8670:function(t){t.exports=function(){"use strict";for(var t=function(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=1),t<n?n:t>e?e:t},n=t,e={},r=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<a.length;r+=1){var o=a[r];e["[object "+o+"]"]=o.toLowerCase()}var i=function(t){return e[Object.prototype.toString.call(t)]||"object"},u=i,l=i,s=Math.PI,c={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=n(t[e],0,255)):3===e&&(t[e]=n(t[e],0,1));return t},limit:t,type:i,unpack:function(t,n){return void 0===n&&(n=null),t.length>=3?Array.prototype.slice.call(t):"object"==u(t[0])&&n?n.split("").filter((function(n){return void 0!==t[0][n]})).map((function(n){return t[0][n]})):t[0]},last:function(t){if(t.length<2)return null;var n=t.length-1;return"string"==l(t[n])?t[n].toLowerCase():null},PI:s,TWOPI:2*s,PITHIRD:s/3,DEG2RAD:s/180,RAD2DEG:180/s},f={format:{},autodetect:[]},h=c.last,p=c.clip_rgb,d=c.type,g=f,v=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),a=!1;if(!r){a=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,n){return n.p-t.p})),g.sorted=!0);for(var o=0,i=g.autodetect;o<i.length;o+=1){var u=i[o];if(r=u.test.apply(u,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,a?t:t.slice(0,-1));e._rgb=p(l),3===e._rgb.length&&e._rgb.push(1)};v.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var m=v,y=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(y.Color,[null].concat(t)))};y.Color=m,y.version="2.4.2";var b=y,w=c.unpack,x=Math.max,_=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=w(t,"rgb"),r=e[0],a=e[1],o=e[2],i=1-x(r/=255,x(a/=255,o/=255)),u=i<1?1/(1-i):0;return[(1-r-i)*u,(1-a-i)*u,(1-o-i)*u,i]},k=c.unpack,M=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=k(t,"cmyk"))[0],r=t[1],a=t[2],o=t[3],i=t.length>4?t[4]:1;return 1===o?[0,0,0,i]:[e>=1?0:255*(1-e)*(1-o),r>=1?0:255*(1-r)*(1-o),a>=1?0:255*(1-a)*(1-o),i]},N=b,A=m,E=f,$=c.unpack,S=c.type,C=_;A.prototype.cmyk=function(){return C(this._rgb)},N.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(A,[null].concat(t,["cmyk"])))},E.format.cmyk=M,E.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=$(t,"cmyk"),"array"===S(t)&&4===t.length)return"cmyk"}});var I=c.unpack,P=c.last,T=function(t){return Math.round(100*t)/100},L=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=I(t,"hsla"),r=P(t)||"lsa";return e[0]=T(e[0]||0),e[1]=T(100*e[1])+"%",e[2]=T(100*e[2])+"%","hsla"===r||e.length>3&&e[3]<1?(e[3]=e.length>3?e[3]:1,r="hsla"):e.length=3,r+"("+e.join(",")+")"},R=c.unpack,O=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=R(t,"rgba"))[0],r=t[1],a=t[2];e/=255,r/=255,a/=255;var o,i,u=Math.min(e,r,a),l=Math.max(e,r,a),s=(l+u)/2;return l===u?(o=0,i=Number.NaN):o=s<.5?(l-u)/(l+u):(l-u)/(2-l-u),e==l?i=(r-a)/(l-u):r==l?i=2+(a-e)/(l-u):a==l&&(i=4+(e-r)/(l-u)),(i*=60)<0&&(i+=360),t.length>3&&void 0!==t[3]?[i,o,s,t[3]]:[i,o,s]},j=c.unpack,B=c.last,q=L,D=O,F=Math.round,z=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=j(t,"rgba"),r=B(t)||"rgb";return"hsl"==r.substr(0,3)?q(D(e),r):(e[0]=F(e[0]),e[1]=F(e[1]),e[2]=F(e[2]),("rgba"===r||e.length>3&&e[3]<1)&&(e[3]=e.length>3?e[3]:1,r="rgba"),r+"("+e.slice(0,"rgb"===r?3:4).join(",")+")")},X=c.unpack,U=Math.round,H=function(){for(var t,n=[],e=arguments.length;e--;)n[e]=arguments[e];var r,a,o,i=(n=X(n,"hsl"))[0],u=n[1],l=n[2];if(0===u)r=a=o=255*l;else{var s=[0,0,0],c=[0,0,0],f=l<.5?l*(1+u):l+u-l*u,h=2*l-f,p=i/360;s[0]=p+1/3,s[1]=p,s[2]=p-1/3;for(var d=0;d<3;d++)s[d]<0&&(s[d]+=1),s[d]>1&&(s[d]-=1),6*s[d]<1?c[d]=h+6*(f-h)*s[d]:2*s[d]<1?c[d]=f:3*s[d]<2?c[d]=h+(f-h)*(2/3-s[d])*6:c[d]=h;r=(t=[U(255*c[0]),U(255*c[1]),U(255*c[2])])[0],a=t[1],o=t[2]}return n.length>3?[r,a,o,n[3]]:[r,a,o,1]},Y=H,G=f,W=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Z=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,V=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,K=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,tt=Math.round,nt=function(t){var n;if(t=t.toLowerCase().trim(),G.format.named)try{return G.format.named(t)}catch(t){}if(n=t.match(W)){for(var e=n.slice(1,4),r=0;r<3;r++)e[r]=+e[r];return e[3]=1,e}if(n=t.match(Z)){for(var a=n.slice(1,5),o=0;o<4;o++)a[o]=+a[o];return a}if(n=t.match(V)){for(var i=n.slice(1,4),u=0;u<3;u++)i[u]=tt(2.55*i[u]);return i[3]=1,i}if(n=t.match(K)){for(var l=n.slice(1,5),s=0;s<3;s++)l[s]=tt(2.55*l[s]);return l[3]=+l[3],l}if(n=t.match(J)){var c=n.slice(1,4);c[1]*=.01,c[2]*=.01;var f=Y(c);return f[3]=1,f}if(n=t.match(Q)){var h=n.slice(1,4);h[1]*=.01,h[2]*=.01;var p=Y(h);return p[3]=+n[4],p}};nt.test=function(t){return W.test(t)||Z.test(t)||V.test(t)||K.test(t)||J.test(t)||Q.test(t)};var et=b,rt=m,at=f,ot=c.type,it=z,ut=nt;rt.prototype.css=function(t){return it(this._rgb,t)},et.css=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(rt,[null].concat(t,["css"])))},at.format.css=ut,at.autodetect.push({p:5,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===ot(t)&&ut.test(t))return"css"}});var lt=m,st=b,ct=c.unpack;f.format.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=ct(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e},st.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(lt,[null].concat(t,["gl"])))},lt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var ft=c.unpack,ht=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r=ft(t,"rgb"),a=r[0],o=r[1],i=r[2],u=Math.min(a,o,i),l=Math.max(a,o,i),s=l-u,c=100*s/255,f=u/(255-s)*100;return 0===s?e=Number.NaN:(a===l&&(e=(o-i)/s),o===l&&(e=2+(i-a)/s),i===l&&(e=4+(a-o)/s),(e*=60)<0&&(e+=360)),[e,c,f]},pt=c.unpack,dt=Math.floor,gt=function(){for(var t,n,e,r,a,o,i=[],u=arguments.length;u--;)i[u]=arguments[u];var l,s,c,f=(i=pt(i,"hcg"))[0],h=i[1],p=i[2];p*=255;var d=255*h;if(0===h)l=s=c=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=dt(f/=60),v=f-g,m=p*(1-h),y=m+d*(1-v),b=m+d*v,w=m+d;switch(g){case 0:l=(t=[w,b,m])[0],s=t[1],c=t[2];break;case 1:l=(n=[y,w,m])[0],s=n[1],c=n[2];break;case 2:l=(e=[m,w,b])[0],s=e[1],c=e[2];break;case 3:l=(r=[m,y,w])[0],s=r[1],c=r[2];break;case 4:l=(a=[b,m,w])[0],s=a[1],c=a[2];break;case 5:l=(o=[w,m,y])[0],s=o[1],c=o[2]}}return[l,s,c,i.length>3?i[3]:1]},vt=c.unpack,mt=c.type,yt=b,bt=m,wt=f,xt=ht;bt.prototype.hcg=function(){return xt(this._rgb)},yt.hcg=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(bt,[null].concat(t,["hcg"])))},wt.format.hcg=gt,wt.autodetect.push({p:1,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=vt(t,"hcg"),"array"===mt(t)&&3===t.length)return"hcg"}});var _t=c.unpack,kt=c.last,Mt=Math.round,Nt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=_t(t,"rgba"),r=e[0],a=e[1],o=e[2],i=e[3],u=kt(t)||"auto";void 0===i&&(i=1),"auto"===u&&(u=i<1?"rgba":"rgb");var l="000000"+((r=Mt(r))<<16|(a=Mt(a))<<8|(o=Mt(o))).toString(16);l=l.substr(l.length-6);var s="0"+Mt(255*i).toString(16);switch(s=s.substr(s.length-2),u.toLowerCase()){case"rgba":return"#"+l+s;case"argb":return"#"+s+l;default:return"#"+l}},At=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Et=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,$t=function(t){if(t.match(At)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(Et)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: "+t)},St=b,Ct=m,It=c.type,Pt=f,Tt=Nt;Ct.prototype.hex=function(t){return Tt(this._rgb,t)},St.hex=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(Ct,[null].concat(t,["hex"])))},Pt.format.hex=$t,Pt.autodetect.push({p:4,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===It(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Lt=c.unpack,Rt=c.TWOPI,Ot=Math.min,jt=Math.sqrt,Bt=Math.acos,qt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r=Lt(t,"rgb"),a=r[0],o=r[1],i=r[2],u=Ot(a/=255,o/=255,i/=255),l=(a+o+i)/3,s=l>0?1-u/l:0;return 0===s?e=NaN:(e=(a-o+(a-i))/2,e/=jt((a-o)*(a-o)+(a-i)*(o-i)),e=Bt(e),i>o&&(e=Rt-e),e/=Rt),[360*e,s,l]},Dt=c.unpack,Ft=c.limit,zt=c.TWOPI,Xt=c.PITHIRD,Ut=Math.cos,Ht=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,a,o=(t=Dt(t,"hsi"))[0],i=t[1],u=t[2];return isNaN(o)&&(o=0),isNaN(i)&&(i=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((a=(1-i)/3)+(e=(1+i*Ut(zt*o)/Ut(Xt-zt*o))/3)):o<2/3?a=1-((e=(1-i)/3)+(r=(1+i*Ut(zt*(o-=1/3))/Ut(Xt-zt*o))/3)):e=1-((r=(1-i)/3)+(a=(1+i*Ut(zt*(o-=2/3))/Ut(Xt-zt*o))/3)),[255*(e=Ft(u*e*3)),255*(r=Ft(u*r*3)),255*(a=Ft(u*a*3)),t.length>3?t[3]:1]},Yt=c.unpack,Gt=c.type,Wt=b,Zt=m,Vt=f,Kt=qt;Zt.prototype.hsi=function(){return Kt(this._rgb)},Wt.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(Zt,[null].concat(t,["hsi"])))},Vt.format.hsi=Ht,Vt.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Yt(t,"hsi"),"array"===Gt(t)&&3===t.length)return"hsi"}});var Jt=c.unpack,Qt=c.type,tn=b,nn=m,en=f,rn=O;nn.prototype.hsl=function(){return rn(this._rgb)},tn.hsl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(nn,[null].concat(t,["hsl"])))},en.format.hsl=H,en.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Jt(t,"hsl"),"array"===Qt(t)&&3===t.length)return"hsl"}});var an=c.unpack,on=Math.min,un=Math.max,ln=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,a,o=(t=an(t,"rgb"))[0],i=t[1],u=t[2],l=on(o,i,u),s=un(o,i,u),c=s-l;return a=s/255,0===s?(e=Number.NaN,r=0):(r=c/s,o===s&&(e=(i-u)/c),i===s&&(e=2+(u-o)/c),u===s&&(e=4+(o-i)/c),(e*=60)<0&&(e+=360)),[e,r,a]},sn=c.unpack,cn=Math.floor,fn=function(){for(var t,n,e,r,a,o,i=[],u=arguments.length;u--;)i[u]=arguments[u];var l,s,c,f=(i=sn(i,"hsv"))[0],h=i[1],p=i[2];if(p*=255,0===h)l=s=c=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=cn(f/=60),g=f-d,v=p*(1-h),m=p*(1-h*g),y=p*(1-h*(1-g));switch(d){case 0:l=(t=[p,y,v])[0],s=t[1],c=t[2];break;case 1:l=(n=[m,p,v])[0],s=n[1],c=n[2];break;case 2:l=(e=[v,p,y])[0],s=e[1],c=e[2];break;case 3:l=(r=[v,m,p])[0],s=r[1],c=r[2];break;case 4:l=(a=[y,v,p])[0],s=a[1],c=a[2];break;case 5:l=(o=[p,v,m])[0],s=o[1],c=o[2]}}return[l,s,c,i.length>3?i[3]:1]},hn=c.unpack,pn=c.type,dn=b,gn=m,vn=f,mn=ln;gn.prototype.hsv=function(){return mn(this._rgb)},dn.hsv=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(gn,[null].concat(t,["hsv"])))},vn.format.hsv=fn,vn.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=hn(t,"hsv"),"array"===pn(t)&&3===t.length)return"hsv"}});var yn={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},bn=yn,wn=c.unpack,xn=Math.pow,_n=function(t){return(t/=255)<=.04045?t/12.92:xn((t+.055)/1.055,2.4)},kn=function(t){return t>bn.t3?xn(t,1/3):t/bn.t2+bn.t0},Mn=function(t,n,e){return t=_n(t),n=_n(n),e=_n(e),[kn((.4124564*t+.3575761*n+.1804375*e)/bn.Xn),kn((.2126729*t+.7151522*n+.072175*e)/bn.Yn),kn((.0193339*t+.119192*n+.9503041*e)/bn.Zn)]},Nn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=wn(t,"rgb"),r=e[0],a=e[1],o=e[2],i=Mn(r,a,o),u=i[0],l=i[1],s=116*l-16;return[s<0?0:s,500*(u-l),200*(l-i[2])]},An=yn,En=c.unpack,$n=Math.pow,Sn=function(t){return 255*(t<=.00304?12.92*t:1.055*$n(t,1/2.4)-.055)},Cn=function(t){return t>An.t1?t*t*t:An.t2*(t-An.t0)},In=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,a,o=(t=En(t,"lab"))[0],i=t[1],u=t[2];return r=(o+16)/116,e=isNaN(i)?r:r+i/500,a=isNaN(u)?r:r-u/200,r=An.Yn*Cn(r),e=An.Xn*Cn(e),a=An.Zn*Cn(a),[Sn(3.2404542*e-1.5371385*r-.4985314*a),Sn(-.969266*e+1.8760108*r+.041556*a),Sn(.0556434*e-.2040259*r+1.0572252*a),t.length>3?t[3]:1]},Pn=c.unpack,Tn=c.type,Ln=b,Rn=m,On=f,jn=Nn;Rn.prototype.lab=function(){return jn(this._rgb)},Ln.lab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(Rn,[null].concat(t,["lab"])))},On.format.lab=In,On.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Pn(t,"lab"),"array"===Tn(t)&&3===t.length)return"lab"}});var Bn=c.unpack,qn=c.RAD2DEG,Dn=Math.sqrt,Fn=Math.atan2,zn=Math.round,Xn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Bn(t,"lab"),r=e[0],a=e[1],o=e[2],i=Dn(a*a+o*o),u=(Fn(o,a)*qn+360)%360;return 0===zn(1e4*i)&&(u=Number.NaN),[r,i,u]},Un=c.unpack,Hn=Nn,Yn=Xn,Gn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Un(t,"rgb"),r=e[0],a=e[1],o=e[2],i=Hn(r,a,o),u=i[0],l=i[1],s=i[2];return Yn(u,l,s)},Wn=c.unpack,Zn=c.DEG2RAD,Vn=Math.sin,Kn=Math.cos,Jn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Wn(t,"lch"),r=e[0],a=e[1],o=e[2];return isNaN(o)&&(o=0),[r,Kn(o*=Zn)*a,Vn(o)*a]},Qn=c.unpack,te=Jn,ne=In,ee=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=Qn(t,"lch"))[0],r=t[1],a=t[2],o=te(e,r,a),i=o[0],u=o[1],l=o[2],s=ne(i,u,l);return[s[0],s[1],s[2],t.length>3?t[3]:1]},re=c.unpack,ae=ee,oe=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=re(t,"hcl").reverse();return ae.apply(void 0,e)},ie=c.unpack,ue=c.type,le=b,se=m,ce=f,fe=Gn;se.prototype.lch=function(){return fe(this._rgb)},se.prototype.hcl=function(){return fe(this._rgb).reverse()},le.lch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(se,[null].concat(t,["lch"])))},le.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(se,[null].concat(t,["hcl"])))},ce.format.lch=ee,ce.format.hcl=oe,["lch","hcl"].forEach((function(t){return ce.autodetect.push({p:2,test:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];if(n=ie(n,t),"array"===ue(n)&&3===n.length)return t}})}));var he={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},pe=f,de=c.type,ge=he,ve=$t,me=Nt;m.prototype.name=function(){for(var t=me(this._rgb,"rgb"),n=0,e=Object.keys(ge);n<e.length;n+=1){var r=e[n];if(ge[r]===t)return r.toLowerCase()}return t},pe.format.named=function(t){if(t=t.toLowerCase(),ge[t])return ve(ge[t]);throw new Error("unknown color name: "+t)},pe.autodetect.push({p:5,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===de(t)&&ge[t.toLowerCase()])return"named"}});var ye=c.unpack,be=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=ye(t,"rgb");return(e[0]<<16)+(e[1]<<8)+e[2]},we=c.type,xe=b,_e=m,ke=f,Me=c.type,Ne=be;_e.prototype.num=function(){return Ne(this._rgb)},xe.num=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(_e,[null].concat(t,["num"])))},ke.format.num=function(t){if("number"==we(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},ke.autodetect.push({p:5,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(1===t.length&&"number"===Me(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Ae=b,Ee=m,$e=f,Se=c.unpack,Ce=c.type,Ie=Math.round;Ee.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ie)},Ee.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(n,e){return e<3?!1===t?n:Ie(n):n}))},Ae.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(Ee,[null].concat(t,["rgb"])))},$e.format.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Se(t,"rgba");return void 0===e[3]&&(e[3]=1),e},$e.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Se(t,"rgba"),"array"===Ce(t)&&(3===t.length||4===t.length&&"number"==Ce(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var Pe=Math.log,Te=function(t){var n,e,r,a=t/100;return a<66?(n=255,e=a<6?0:-155.25485562709179-.44596950469579133*(e=a-2)+104.49216199393888*Pe(e),r=a<20?0:.8274096064007395*(r=a-10)-254.76935184120902+115.67994401066147*Pe(r)):(n=351.97690566805693+.114206453784165*(n=a-55)-40.25366309332127*Pe(n),e=325.4494125711974+.07943456536662342*(e=a-50)-28.0852963507957*Pe(e),r=255),[n,e,r,1]},Le=Te,Re=c.unpack,Oe=Math.round,je=b,Be=m,qe=f,De=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var e,r=Re(t,"rgb"),a=r[0],o=r[2],i=1e3,u=4e4;u-i>.4;){var l=Le(e=.5*(u+i));l[2]/l[0]>=o/a?u=e:i=e}return Oe(e)};Be.prototype.temp=Be.prototype.kelvin=Be.prototype.temperature=function(){return De(this._rgb)},je.temp=je.kelvin=je.temperature=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(Be,[null].concat(t,["temp"])))},qe.format.temp=qe.format.kelvin=qe.format.temperature=Te;var Fe=c.unpack,ze=Math.cbrt,Xe=Math.pow,Ue=Math.sign,He=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Fe(t,"rgb"),r=e[0],a=e[1],o=e[2],i=[Ye(r/255),Ye(a/255),Ye(o/255)],u=i[0],l=i[1],s=i[2],c=ze(.4122214708*u+.5363325363*l+.0514459929*s),f=ze(.2119034982*u+.6806995451*l+.1073969566*s),h=ze(.0883024619*u+.2817188376*l+.6299787005*s);return[.2104542553*c+.793617785*f-.0040720468*h,1.9779984951*c-2.428592205*f+.4505937099*h,.0259040371*c+.7827717662*f-.808675766*h]};function Ye(t){var n=Math.abs(t);return n<.04045?t/12.92:(Ue(t)||1)*Xe((n+.055)/1.055,2.4)}var Ge=c.unpack,We=Math.pow,Ze=Math.sign,Ve=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=Ge(t,"lab"))[0],r=t[1],a=t[2],o=We(e+.3963377774*r+.2158037573*a,3),i=We(e-.1055613458*r-.0638541728*a,3),u=We(e-.0894841775*r-1.291485548*a,3);return[255*Ke(4.0767416621*o-3.3077115913*i+.2309699292*u),255*Ke(-1.2684380046*o+2.6097574011*i-.3413193965*u),255*Ke(-.0041960863*o-.7034186147*i+1.707614701*u),t.length>3?t[3]:1]};function Ke(t){var n=Math.abs(t);return n>.0031308?(Ze(t)||1)*(1.055*We(n,1/2.4)-.055):12.92*t}var Je=c.unpack,Qe=c.type,tr=b,nr=m,er=f,rr=He;nr.prototype.oklab=function(){return rr(this._rgb)},tr.oklab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(nr,[null].concat(t,["oklab"])))},er.format.oklab=Ve,er.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Je(t,"oklab"),"array"===Qe(t)&&3===t.length)return"oklab"}});var ar=c.unpack,or=He,ir=Xn,ur=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=ar(t,"rgb"),r=e[0],a=e[1],o=e[2],i=or(r,a,o),u=i[0],l=i[1],s=i[2];return ir(u,l,s)},lr=c.unpack,sr=Jn,cr=Ve,fr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=lr(t,"lch"))[0],r=t[1],a=t[2],o=sr(e,r,a),i=o[0],u=o[1],l=o[2],s=cr(i,u,l);return[s[0],s[1],s[2],t.length>3?t[3]:1]},hr=c.unpack,pr=c.type,dr=b,gr=m,vr=f,mr=ur;gr.prototype.oklch=function(){return mr(this._rgb)},dr.oklch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(gr,[null].concat(t,["oklch"])))},vr.format.oklch=fr,vr.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=hr(t,"oklch"),"array"===pr(t)&&3===t.length)return"oklch"}});var yr=m,br=c.type;yr.prototype.alpha=function(t,n){return void 0===n&&(n=!1),void 0!==t&&"number"===br(t)?n?(this._rgb[3]=t,this):new yr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1};var wr=m,xr=yn;wr.prototype.darken=function(t){void 0===t&&(t=1);var n=this.lab();return n[0]-=xr.Kn*t,new wr(n,"lab").alpha(this.alpha(),!0)},wr.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},wr.prototype.darker=wr.prototype.darken,wr.prototype.brighter=wr.prototype.brighten,m.prototype.get=function(t){var n=t.split("."),e=n[0],r=n[1],a=this[e]();if(r){var o=e.indexOf(r)-("ok"===e.substr(0,2)?2:0);if(o>-1)return a[o];throw new Error("unknown channel "+r+" in mode "+e)}return a};var _r=m,kr=c.type,Mr=Math.pow;_r.prototype.luminance=function(t){if(void 0!==t&&"number"===kr(t)){if(0===t)return new _r([0,0,0,this._rgb[3]],"rgb");if(1===t)return new _r([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),e=20,r=function(n,a){var o=n.interpolate(a,.5,"rgb"),i=o.luminance();return Math.abs(t-i)<1e-7||!e--?o:i>t?r(n,o):r(o,a)},a=(n>t?r(new _r([0,0,0]),this):r(this,new _r([255,255,255]))).rgb();return new _r(a.concat([this._rgb[3]]))}return Nr.apply(void 0,this._rgb.slice(0,3))};var Nr=function(t,n,e){return.2126*(t=Ar(t))+.7152*(n=Ar(n))+.0722*Ar(e)},Ar=function(t){return(t/=255)<=.03928?t/12.92:Mr((t+.055)/1.055,2.4)},Er={},$r=m,Sr=c.type,Cr=Er,Ir=function(t,n,e){void 0===e&&(e=.5);for(var r=[],a=arguments.length-3;a-- >0;)r[a]=arguments[a+3];var o=r[0]||"lrgb";if(Cr[o]||r.length||(o=Object.keys(Cr)[0]),!Cr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Sr(t)&&(t=new $r(t)),"object"!==Sr(n)&&(n=new $r(n)),Cr[o](t,n,e).alpha(t.alpha()+e*(n.alpha()-t.alpha()))},Pr=m,Tr=Ir;Pr.prototype.mix=Pr.prototype.interpolate=function(t,n){void 0===n&&(n=.5);for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];return Tr.apply(void 0,[this,t,n].concat(e))};var Lr=m;Lr.prototype.premultiply=function(t){void 0===t&&(t=!1);var n=this._rgb,e=n[3];return t?(this._rgb=[n[0]*e,n[1]*e,n[2]*e,e],this):new Lr([n[0]*e,n[1]*e,n[2]*e,e],"rgb")};var Rr=m,Or=yn;Rr.prototype.saturate=function(t){void 0===t&&(t=1);var n=this.lch();return n[1]+=Or.Kn*t,n[1]<0&&(n[1]=0),new Rr(n,"lch").alpha(this.alpha(),!0)},Rr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var jr=m,Br=c.type;jr.prototype.set=function(t,n,e){void 0===e&&(e=!1);var r=t.split("."),a=r[0],o=r[1],i=this[a]();if(o){var u=a.indexOf(o)-("ok"===a.substr(0,2)?2:0);if(u>-1){if("string"==Br(n))switch(n.charAt(0)){case"+":case"-":i[u]+=+n;break;case"*":i[u]*=+n.substr(1);break;case"/":i[u]/=+n.substr(1);break;default:i[u]=+n}else{if("number"!==Br(n))throw new Error("unsupported value for Color.set");i[u]=n}var l=new jr(i,a);return e?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+a)}return i};var qr=m;Er.rgb=function(t,n,e){var r=t._rgb,a=n._rgb;return new qr(r[0]+e*(a[0]-r[0]),r[1]+e*(a[1]-r[1]),r[2]+e*(a[2]-r[2]),"rgb")};var Dr=m,Fr=Math.sqrt,zr=Math.pow;Er.lrgb=function(t,n,e){var r=t._rgb,a=r[0],o=r[1],i=r[2],u=n._rgb,l=u[0],s=u[1],c=u[2];return new Dr(Fr(zr(a,2)*(1-e)+zr(l,2)*e),Fr(zr(o,2)*(1-e)+zr(s,2)*e),Fr(zr(i,2)*(1-e)+zr(c,2)*e),"rgb")};var Xr=m;Er.lab=function(t,n,e){var r=t.lab(),a=n.lab();return new Xr(r[0]+e*(a[0]-r[0]),r[1]+e*(a[1]-r[1]),r[2]+e*(a[2]-r[2]),"lab")};var Ur=m,Hr=function(t,n,e,r){var a,o,i,u,l,s,c,f,h,p,d,g,v;return"hsl"===r?(i=t.hsl(),u=n.hsl()):"hsv"===r?(i=t.hsv(),u=n.hsv()):"hcg"===r?(i=t.hcg(),u=n.hcg()):"hsi"===r?(i=t.hsi(),u=n.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=t.hcl(),u=n.hcl()):"oklch"===r&&(i=t.oklch().reverse(),u=n.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(a=i)[0],c=a[1],h=a[2],s=(o=u)[0],f=o[1],p=o[2]),isNaN(l)||isNaN(s)?isNaN(l)?isNaN(s)?g=Number.NaN:(g=s,1!=h&&0!=h||"hsv"==r||(d=f)):(g=l,1!=p&&0!=p||"hsv"==r||(d=c)):g=l+e*(s>l&&s-l>180?s-(l+360):s<l&&l-s>180?s+360-l:s-l),void 0===d&&(d=c+e*(f-c)),v=h+e*(p-h),new Ur("oklch"===r?[v,d,g]:[g,d,v],r)},Yr=Hr,Gr=function(t,n,e){return Yr(t,n,e,"lch")};Er.lch=Gr,Er.hcl=Gr;var Wr=m;Er.num=function(t,n,e){var r=t.num(),a=n.num();return new Wr(r+e*(a-r),"num")};var Zr=Hr;Er.hcg=function(t,n,e){return Zr(t,n,e,"hcg")};var Vr=Hr;Er.hsi=function(t,n,e){return Vr(t,n,e,"hsi")};var Kr=Hr;Er.hsl=function(t,n,e){return Kr(t,n,e,"hsl")};var Jr=Hr;Er.hsv=function(t,n,e){return Jr(t,n,e,"hsv")};var Qr=m;Er.oklab=function(t,n,e){var r=t.oklab(),a=n.oklab();return new Qr(r[0]+e*(a[0]-r[0]),r[1]+e*(a[1]-r[1]),r[2]+e*(a[2]-r[2]),"oklab")};var ta=Hr;Er.oklch=function(t,n,e){return ta(t,n,e,"oklch")};var na=m,ea=c.clip_rgb,ra=Math.pow,aa=Math.sqrt,oa=Math.PI,ia=Math.cos,ua=Math.sin,la=Math.atan2,sa=function(t,n){for(var e=t.length,r=[0,0,0,0],a=0;a<t.length;a++){var o=t[a],i=n[a]/e,u=o._rgb;r[0]+=ra(u[0],2)*i,r[1]+=ra(u[1],2)*i,r[2]+=ra(u[2],2)*i,r[3]+=u[3]*i}return r[0]=aa(r[0]),r[1]=aa(r[1]),r[2]=aa(r[2]),r[3]>.9999999&&(r[3]=1),new na(ea(r))},ca=b,fa=c.type,ha=Math.pow,pa=function(t){var n="rgb",e=ca("#ccc"),r=0,a=[0,1],o=[],i=[0,0],u=!1,l=[],s=!1,c=0,f=1,h=!1,p={},d=!0,g=1,v=function(t){if((t=t||["#fff","#000"])&&"string"===fa(t)&&ca.brewer&&ca.brewer[t.toLowerCase()]&&(t=ca.brewer[t.toLowerCase()]),"array"===fa(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var n=0;n<t.length;n++)t[n]=ca(t[n]);o.length=0;for(var e=0;e<t.length;e++)o.push(e/(t.length-1))}return w(),l=t},m=function(t){return t},y=function(t){return t},b=function(t,r){var a,s;if(null==r&&(r=!1),isNaN(t)||null===t)return e;s=r?t:u&&u.length>2?function(t){if(null!=u){for(var n=u.length-1,e=0;e<n&&t>=u[e];)e++;return e-1}return 0}(t)/(u.length-2):f!==c?(t-c)/(f-c):1,s=y(s),r||(s=m(s)),1!==g&&(s=ha(s,g)),s=i[0]+s*(1-i[0]-i[1]),s=Math.min(1,Math.max(0,s));var h=Math.floor(1e4*s);if(d&&p[h])a=p[h];else{if("array"===fa(l))for(var v=0;v<o.length;v++){var b=o[v];if(s<=b){a=l[v];break}if(s>=b&&v===o.length-1){a=l[v];break}if(s>b&&s<o[v+1]){s=(s-b)/(o[v+1]-b),a=ca.interpolate(l[v],l[v+1],s,n);break}}else"function"===fa(l)&&(a=l(s));d&&(p[h]=a)}return a},w=function(){return p={}};v(t);var x=function(t){var n=ca(b(t));return s&&n[s]?n[s]():n};return x.classes=function(t){if(null!=t){if("array"===fa(t))u=t,a=[t[0],t[t.length-1]];else{var n=ca.analyze(a);u=0===t?[n.min,n.max]:ca.limits(n,"e",t)}return x}return u},x.domain=function(t){if(!arguments.length)return a;c=t[0],f=t[t.length-1],o=[];var n=l.length;if(t.length===n&&c!==f)for(var e=0,r=Array.from(t);e<r.length;e+=1){var i=r[e];o.push((i-c)/(f-c))}else{for(var u=0;u<n;u++)o.push(u/(n-1));if(t.length>2){var s=t.map((function(n,e){return e/(t.length-1)})),h=t.map((function(t){return(t-c)/(f-c)}));h.every((function(t,n){return s[n]===t}))||(y=function(t){if(t<=0||t>=1)return t;for(var n=0;t>=h[n+1];)n++;var e=(t-h[n])/(h[n+1]-h[n]);return s[n]+e*(s[n+1]-s[n])})}}return a=[c,f],x},x.mode=function(t){return arguments.length?(n=t,w(),x):n},x.range=function(t,n){return v(t),x},x.out=function(t){return s=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),h=t,w(),m=h?function(t){for(var n=b(0,!0).lab()[0],e=b(1,!0).lab()[0],r=n>e,a=b(t,!0).lab()[0],o=n+(e-n)*t,i=a-o,u=0,l=1,s=20;Math.abs(i)>.01&&s-- >0;)r&&(i*=-1),i<0?(u=t,t+=.5*(l-t)):(l=t,t+=.5*(u-t)),i=(a=b(t,!0).lab()[0])-o;return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===fa(t)&&(t=[t,t]),i=t,x):i},x.colors=function(n,e){arguments.length<2&&(e="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===n)r=[x(.5)];else if(n>1){var o=a[0],i=a[1]-o;r=function(t,n,e){for(var r=[],a=t<n,o=e?a?n+1:n-1:n,i=t;a?i<o:i>o;a?i++:i--)r.push(i);return r}(0,n,!1).map((function(t){return x(o+t/(n-1)*i)}))}else{t=[];var s=[];if(u&&u.length>2)for(var c=1,f=u.length,h=1<=f;h?c<f:c>f;h?c++:c--)s.push(.5*(u[c-1]+u[c]));else s=a;r=s.map((function(t){return x(t)}))}return ca[e]&&(r=r.map((function(t){return t[e]()}))),r},x.cache=function(t){return null!=t?(d=t,x):d},x.gamma=function(t){return null!=t?(g=t,x):g},x.nodata=function(t){return null!=t?(e=ca(t),x):e},x};var da=m,ga=pa,va=b,ma=function(t,n,e){if(!ma[e])throw new Error("unknown blend mode "+e);return ma[e](t,n)},ya=function(t){return function(n,e){var r=va(e).rgb(),a=va(n).rgb();return va.rgb(t(r,a))}},ba=function(t){return function(n,e){var r=[];return r[0]=t(n[0],e[0]),r[1]=t(n[1],e[1]),r[2]=t(n[2],e[2]),r}};ma.normal=ya(ba((function(t){return t}))),ma.multiply=ya(ba((function(t,n){return t*n/255}))),ma.screen=ya(ba((function(t,n){return 255*(1-(1-t/255)*(1-n/255))}))),ma.overlay=ya(ba((function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))}))),ma.darken=ya(ba((function(t,n){return t>n?n:t}))),ma.lighten=ya(ba((function(t,n){return t>n?t:n}))),ma.dodge=ya(ba((function(t,n){return 255===t||(t=n/255*255/(1-t/255))>255?255:t}))),ma.burn=ya(ba((function(t,n){return 255*(1-(1-n/255)/(t/255))})));for(var wa=ma,xa=c.type,_a=c.clip_rgb,ka=c.TWOPI,Ma=Math.pow,Na=Math.sin,Aa=Math.cos,Ea=b,$a=m,Sa=Math.floor,Ca=Math.random,Ia=i,Pa=Math.log,Ta=Math.pow,La=Math.floor,Ra=Math.abs,Oa=function(t,n){void 0===n&&(n=null);var e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Ia(t)&&(t=Object.values(t)),t.forEach((function(t){n&&"object"===Ia(t)&&(t=t[n]),null==t||isNaN(t)||(e.values.push(t),e.sum+=t,t<e.min&&(e.min=t),t>e.max&&(e.max=t),e.count+=1)})),e.domain=[e.min,e.max],e.limits=function(t,n){return ja(e,t,n)},e},ja=function(t,n,e){void 0===n&&(n="equal"),void 0===e&&(e=7),"array"==Ia(t)&&(t=Oa(t));var r=t.min,a=t.max,o=t.values.sort((function(t,n){return t-n}));if(1===e)return[r,a];var i=[];if("c"===n.substr(0,1)&&(i.push(r),i.push(a)),"e"===n.substr(0,1)){i.push(r);for(var u=1;u<e;u++)i.push(r+u/e*(a-r));i.push(a)}else if("l"===n.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Pa(r),s=Math.LOG10E*Pa(a);i.push(r);for(var c=1;c<e;c++)i.push(Ta(10,l+c/e*(s-l)));i.push(a)}else if("q"===n.substr(0,1)){i.push(r);for(var f=1;f<e;f++){var h=(o.length-1)*f/e,p=La(h);if(p===h)i.push(o[p]);else{var d=h-p;i.push(o[p]*(1-d)+o[p+1]*d)}}i.push(a)}else if("k"===n.substr(0,1)){var g,v=o.length,m=new Array(v),y=new Array(e),b=!0,w=0,x=null;(x=[]).push(r);for(var _=1;_<e;_++)x.push(r+_/e*(a-r));for(x.push(a);b;){for(var k=0;k<e;k++)y[k]=0;for(var M=0;M<v;M++)for(var N=o[M],A=Number.MAX_VALUE,E=void 0,$=0;$<e;$++){var S=Ra(x[$]-N);S<A&&(A=S,E=$),y[E]++,m[M]=E}for(var C=new Array(e),I=0;I<e;I++)C[I]=null;for(var P=0;P<v;P++)null===C[g=m[P]]?C[g]=o[P]:C[g]+=o[P];for(var T=0;T<e;T++)C[T]*=1/y[T];b=!1;for(var L=0;L<e;L++)if(C[L]!==x[L]){b=!0;break}x=C,++w>200&&(b=!1)}for(var R={},O=0;O<e;O++)R[O]=[];for(var j=0;j<v;j++)R[g=m[j]].push(o[j]);for(var B=[],q=0;q<e;q++)B.push(R[q][0]),B.push(R[q][R[q].length-1]);B=B.sort((function(t,n){return t-n})),i.push(B[0]);for(var D=1;D<B.length;D+=2){var F=B[D];isNaN(F)||-1!==i.indexOf(F)||i.push(F)}}return i},Ba={analyze:Oa,limits:ja},qa=m,Da=m,Fa=Math.sqrt,za=Math.pow,Xa=Math.min,Ua=Math.max,Ha=Math.atan2,Ya=Math.abs,Ga=Math.cos,Wa=Math.sin,Za=Math.exp,Va=Math.PI,Ka=m,Ja=m,Qa=b,to=pa,no={cool:function(){return to([Qa.hsl(180,1,.9),Qa.hsl(250,.7,.4)])},hot:function(){return to(["#000","#f00","#ff0","#fff"]).mode("rgb")}},eo={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ro=0,ao=Object.keys(eo);ro<ao.length;ro+=1){var oo=ao[ro];eo[oo.toLowerCase()]=eo[oo]}var io=eo,uo=b;return uo.average=function(t,n,e){void 0===n&&(n="lrgb"),void 0===e&&(e=null);var r=t.length;e||(e=Array.from(new Array(r)).map((function(){return 1})));var a=r/e.reduce((function(t,n){return t+n}));if(e.forEach((function(t,n){e[n]*=a})),t=t.map((function(t){return new na(t)})),"lrgb"===n)return sa(t,e);for(var o=t.shift(),i=o.get(n),u=[],l=0,s=0,c=0;c<i.length;c++)if(i[c]=(i[c]||0)*e[0],u.push(isNaN(i[c])?0:e[0]),"h"===n.charAt(c)&&!isNaN(i[c])){var f=i[c]/180*oa;l+=ia(f)*e[0],s+=ua(f)*e[0]}var h=o.alpha()*e[0];t.forEach((function(t,r){var a=t.get(n);h+=t.alpha()*e[r+1];for(var o=0;o<i.length;o++)if(!isNaN(a[o]))if(u[o]+=e[r+1],"h"===n.charAt(o)){var c=a[o]/180*oa;l+=ia(c)*e[r+1],s+=ua(c)*e[r+1]}else i[o]+=a[o]*e[r+1]}));for(var p=0;p<i.length;p++)if("h"===n.charAt(p)){for(var d=la(s/u[p],l/u[p])/oa*180;d<0;)d+=360;for(;d>=360;)d-=360;i[p]=d}else i[p]=i[p]/u[p];return h/=r,new na(i,n).alpha(h>.99999?1:h,!0)},uo.bezier=function(t){var n=function(t){var n,e,r,a,o,i,u;if(2===(t=t.map((function(t){return new da(t)}))).length)n=t.map((function(t){return t.lab()})),o=n[0],i=n[1],a=function(t){var n=[0,1,2].map((function(n){return o[n]+t*(i[n]-o[n])}));return new da(n,"lab")};else if(3===t.length)e=t.map((function(t){return t.lab()})),o=e[0],i=e[1],u=e[2],a=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*o[n]+2*(1-t)*t*i[n]+t*t*u[n]}));return new da(n,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],i=r[1],u=r[2],l=r[3],a=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*(1-t)*o[n]+3*(1-t)*(1-t)*t*i[n]+3*(1-t)*t*t*u[n]+t*t*t*l[n]}));return new da(n,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var s,c,f;s=t.map((function(t){return t.lab()})),f=t.length-1,c=function(t){for(var n=[1,1],e=1;e<t;e++){for(var r=[1],a=1;a<=n.length;a++)r[a]=(n[a]||0)+n[a-1];n=r}return n}(f),a=function(t){var n=1-t,e=[0,1,2].map((function(e){return s.reduce((function(r,a,o){return r+c[o]*Math.pow(n,f-o)*Math.pow(t,o)*a[e]}),0)}));return new da(e,"lab")}}return a}(t);return n.scale=function(){return ga(n)},n},uo.blend=wa,uo.cubehelix=function(t,n,e,r,a){void 0===t&&(t=300),void 0===n&&(n=-1.5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=[0,1]);var o,i=0;"array"===xa(a)?o=a[1]-a[0]:(o=0,a=[a,a]);var u=function(u){var l=ka*((t+120)/360+n*u),s=Ma(a[0]+o*u,r),c=(0!==i?e[0]+u*i:e)*s*(1-s)/2,f=Aa(l),h=Na(l);return Ea(_a([255*(s+c*(-.14861*f+1.78277*h)),255*(s+c*(-.29227*f-.90649*h)),255*(s+c*(1.97294*f)),1]))};return u.start=function(n){return null==n?t:(t=n,u)},u.rotations=function(t){return null==t?n:(n=t,u)},u.gamma=function(t){return null==t?r:(r=t,u)},u.hue=function(t){return null==t?e:("array"===xa(e=t)?0==(i=e[1]-e[0])&&(e=e[1]):i=0,u)},u.lightness=function(t){return null==t?a:("array"===xa(t)?(a=t,o=t[1]-t[0]):(a=[t,t],o=0),u)},u.scale=function(){return Ea.scale(u)},u.hue(e),u},uo.mix=uo.interpolate=Ir,uo.random=function(){for(var t="#",n=0;n<6;n++)t+="0123456789abcdef".charAt(Sa(16*Ca()));return new $a(t,"hex")},uo.scale=pa,uo.analyze=Ba.analyze,uo.contrast=function(t,n){t=new qa(t),n=new qa(n);var e=t.luminance(),r=n.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},uo.deltaE=function(t,n,e,r,a){void 0===e&&(e=1),void 0===r&&(r=1),void 0===a&&(a=1);var o=function(t){return 360*t/(2*Va)},i=function(t){return 2*Va*t/360};t=new Da(t),n=new Da(n);var u=Array.from(t.lab()),l=u[0],s=u[1],c=u[2],f=Array.from(n.lab()),h=f[0],p=f[1],d=f[2],g=(l+h)/2,v=(Fa(za(s,2)+za(c,2))+Fa(za(p,2)+za(d,2)))/2,m=.5*(1-Fa(za(v,7)/(za(v,7)+za(25,7)))),y=s*(1+m),b=p*(1+m),w=Fa(za(y,2)+za(c,2)),x=Fa(za(b,2)+za(d,2)),_=(w+x)/2,k=o(Ha(c,y)),M=o(Ha(d,b)),N=k>=0?k:k+360,A=M>=0?M:M+360,E=Ya(N-A)>180?(N+A+360)/2:(N+A)/2,$=1-.17*Ga(i(E-30))+.24*Ga(i(2*E))+.32*Ga(i(3*E+6))-.2*Ga(i(4*E-63)),S=A-N;S=Ya(S)<=180?S:A<=N?S+360:S-360,S=2*Fa(w*x)*Wa(i(S)/2);var C=h-l,I=x-w,P=1+.015*za(g-50,2)/Fa(20+za(g-50,2)),T=1+.045*_,L=1+.015*_*$,R=30*Za(-za((E-275)/25,2)),O=-2*Fa(za(_,7)/(za(_,7)+za(25,7)))*Wa(2*i(R)),j=Fa(za(C/(e*P),2)+za(I/(r*T),2)+za(S/(a*L),2)+O*(I/(r*T))*(S/(a*L)));return Ua(0,Xa(100,j))},uo.distance=function(t,n,e){void 0===e&&(e="lab"),t=new Ka(t),n=new Ka(n);var r=t.get(e),a=n.get(e),o=0;for(var i in r){var u=(r[i]||0)-(a[i]||0);o+=u*u}return Math.sqrt(o)},uo.limits=Ba.limits,uo.valid=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];try{return new(Function.prototype.bind.apply(Ja,[null].concat(t))),!0}catch(t){return!1}},uo.scales=no,uo.colors=he,uo.brewer=io,uo}()}},n={};function e(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.u=t=>t+".phrasecloud.bundle.js",e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!t;)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{"use strict";function t(){}function n(n){return null==n?t:function(){return this.querySelector(n)}}function r(){return[]}function a(t){return null==t?r:function(){return this.querySelectorAll(t)}}function o(t){return function(){return this.matches(t)}}function i(t){return function(n){return n.matches(t)}}var u=Array.prototype.find;function l(){return this.firstElementChild}var s=Array.prototype.filter;function c(){return Array.from(this.children)}function f(t){return new Array(t.length)}function h(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function p(t,n,e,r,a,o){for(var i,u=0,l=n.length,s=o.length;u<s;++u)(i=n[u])?(i.__data__=o[u],r[u]=i):e[u]=new h(t,o[u]);for(;u<l;++u)(i=n[u])&&(a[u]=i)}function d(t,n,e,r,a,o,i){var u,l,s,c=new Map,f=n.length,p=o.length,d=new Array(f);for(u=0;u<f;++u)(l=n[u])&&(d[u]=s=i.call(l,l.__data__,u,n)+"",c.has(s)?a[u]=l:c.set(s,l));for(u=0;u<p;++u)s=i.call(t,o[u],u,o)+"",(l=c.get(s))?(r[u]=l,l.__data__=o[u],c.delete(s)):e[u]=new h(t,o[u]);for(u=0;u<f;++u)(l=n[u])&&c.get(d[u])===l&&(a[u]=l)}function g(t){return t.__data__}function v(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function m(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var y="http://www.w3.org/1999/xhtml";const b={svg:"http://www.w3.org/2000/svg",xhtml:y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function w(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),b.hasOwnProperty(n)?{space:b[n],local:t}:t}function x(t){return function(){this.removeAttribute(t)}}function _(t){return function(){this.removeAttributeNS(t.space,t.local)}}function k(t,n){return function(){this.setAttribute(t,n)}}function M(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function A(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function E(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $(t){return function(){this.style.removeProperty(t)}}function S(t,n,e){return function(){this.style.setProperty(t,n,e)}}function C(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function I(t,n){return t.style.getPropertyValue(n)||E(t).getComputedStyle(t,null).getPropertyValue(n)}function P(t){return function(){delete this[t]}}function T(t,n){return function(){this[t]=n}}function L(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function R(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new j(t)}function j(t){this._node=t,this._names=R(t.getAttribute("class")||"")}function B(t,n){for(var e=O(t),r=-1,a=n.length;++r<a;)e.add(n[r])}function q(t,n){for(var e=O(t),r=-1,a=n.length;++r<a;)e.remove(n[r])}function D(t){return function(){B(this,t)}}function F(t){return function(){q(this,t)}}function z(t,n){return function(){(n.apply(this,arguments)?B:q)(this,t)}}function X(){this.textContent=""}function U(t){return function(){this.textContent=t}}function H(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Y(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function W(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function V(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===y&&n.documentElement.namespaceURI===y?n.createElement(t):n.createElementNS(e,t)}}function J(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Q(t){var n=w(t);return(n.local?J:K)(n)}function tt(){return null}function nt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(t){return function(){var n=this.__on;if(n){for(var e,r=0,a=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++a]=e:this.removeEventListener(e.type,e.listener,e.options);++a?n.length=a:delete this.__on}}}function ot(t,n,e){return function(){var r,a=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(a)for(var i=0,u=a.length;i<u;++i)if((r=a[i]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},a?a.push(r):this.__on=[r]}}function it(t,n,e){var r=E(t),a=r.CustomEvent;"function"==typeof a?a=new a(n,e):(a=r.document.createEvent("Event"),e?(a.initEvent(n,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(n,!1,!1)),t.dispatchEvent(a)}function ut(t,n){return function(){return it(this,t,n)}}function lt(t,n){return function(){return it(this,t,n.apply(this,arguments))}}j.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var st=[null];function ct(t,n){this._groups=t,this._parents=n}function ft(){return new ct([[document.documentElement]],st)}ct.prototype=ft.prototype={constructor:ct,select:function(t){"function"!=typeof t&&(t=n(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var i,u,l=e[o],s=l.length,c=a[o]=new Array(s),f=0;f<s;++f)(i=l[f])&&(u=t.call(i,i.__data__,f,l))&&("__data__"in i&&(u.__data__=i.__data__),c[f]=u);return new ct(a,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}(t):a(t);for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var u,l=n[i],s=l.length,c=0;c<s;++c)(u=l[c])&&(r.push(t.call(u,u.__data__,c,l)),o.push(u));return new ct(r,o)},selectChild:function(t){return this.select(null==t?l:function(t){return function(){return u.call(this.children,t)}}("function"==typeof t?t:i(t)))},selectChildren:function(t){return this.selectAll(null==t?c:function(t){return function(){return s.call(this.children,t)}}("function"==typeof t?t:i(t)))},filter:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var i,u=n[a],l=u.length,s=r[a]=[],c=0;c<l;++c)(i=u[c])&&t.call(i,i.__data__,c,u)&&s.push(i);return new ct(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,g);var e,r=n?d:p,a=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var i=o.length,u=new Array(i),l=new Array(i),s=new Array(i),c=0;c<i;++c){var f=a[c],h=o[c],m=h.length,y=v(t.call(f,f&&f.__data__,c,a)),b=y.length,w=l[c]=new Array(b),x=u[c]=new Array(b);r(f,h,w,x,s[c]=new Array(m),y,n);for(var _,k,M=0,N=0;M<b;++M)if(_=w[M]){for(M>=N&&(N=M+1);!(k=x[N])&&++N<b;);_._next=k||null}}return(u=new ct(u,a))._enter=l,u._exit=s,u},enter:function(){return new ct(this._enter||this._groups.map(f),this._parents)},exit:function(){return new ct(this._exit||this._groups.map(f),this._parents)},join:function(t,n,e){var r=this.enter(),a=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(a=n(a))&&(a=a.selection()),null==e?o.remove():e(o),r&&a?r.merge(a).order():a},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,a=e.length,o=r.length,i=Math.min(a,o),u=new Array(a),l=0;l<i;++l)for(var s,c=e[l],f=r[l],h=c.length,p=u[l]=new Array(h),d=0;d<h;++d)(s=c[d]||f[d])&&(p[d]=s);for(;l<a;++l)u[l]=e[l];return new ct(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,a=t[n],o=a.length-1,i=a[o];--o>=0;)(r=a[o])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=m);for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o){for(var i,u=e[o],l=u.length,s=a[o]=new Array(l),c=0;c<l;++c)(i=u[c])&&(s[c]=i);s.sort(n)}return new ct(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var a,o=n[e],i=0,u=o.length;i<u;++i)(a=o[i])&&t.call(a,a.__data__,i,o);return this},attr:function(t,n){var e=w(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?_:x:"function"==typeof n?e.local?A:N:e.local?M:k)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?$:"function"==typeof n?C:S)(t,n,null==e?"":e)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?P:"function"==typeof n?L:T)(t,n)):this.node()[t]},classed:function(t,n){var e=R(t+"");if(arguments.length<2){for(var r=O(this.node()),a=-1,o=e.length;++a<o;)if(!r.contains(e[a]))return!1;return!0}return this.each(("function"==typeof n?z:n?D:F)(e,n))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?H:U)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?W:G)(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(V)},append:function(t){var n="function"==typeof t?t:Q(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:Q(t),a=null==e?tt:"function"==typeof e?e:n(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each(nt)},clone:function(t){return this.select(t?rt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,a,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),i=o.length;if(!(arguments.length<2)){for(u=n?ot:at,r=0;r<i;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var l,s=0,c=u.length;s<c;++s)for(r=0,l=u[s];r<i;++r)if((a=o[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?lt:ut)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,a=t[n],o=0,i=a.length;o<i;++o)(r=a[o])&&(yield r)}};const ht=ft;var pt={value:()=>{}};function dt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new gt(r)}function gt(t){this._=t}function vt(t,n){for(var e,r=0,a=t.length;r<a;++r)if((e=t[r]).name===n)return e.value}function mt(t,n,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===n){t[r]=pt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}gt.prototype=dt.prototype={constructor:gt,on:function(t,n){var e,r,a=this._,o=(r=a,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),i=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<u;)if(e=(t=o[i]).type)a[e]=mt(a[e],t.name,n);else if(null==n)for(e in a)a[e]=mt(a[e],t.name,null);return this}for(;++i<u;)if((e=(t=o[i]).type)&&(e=vt(a[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new gt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,a=new Array(e),o=0;o<e;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,a)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,o=r.length;a<o;++a)r[a].value.apply(n,e)}};const yt=dt;var bt,wt,xt=0,_t=0,kt=0,Mt=1e3,Nt=0,At=0,Et=0,$t="object"==typeof performance&&performance.now?performance:Date,St="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ct(){return At||(St(It),At=$t.now()+Et)}function It(){At=0}function Pt(){this._call=this._time=this._next=null}function Tt(t,n,e){var r=new Pt;return r.restart(t,n,e),r}function Lt(){At=(Nt=$t.now())+Et,xt=_t=0;try{!function(){Ct(),++xt;for(var t,n=bt;n;)(t=At-n._time)>=0&&n._call.call(void 0,t),n=n._next;--xt}()}finally{xt=0,function(){for(var t,n,e=bt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:bt=n);wt=t,Ot(r)}(),At=0}}function Rt(){var t=$t.now(),n=t-Nt;n>Mt&&(Et-=n,Nt=t)}function Ot(t){xt||(_t&&(_t=clearTimeout(_t)),t-At>24?(t<1/0&&(_t=setTimeout(Lt,t-$t.now()-Et)),kt&&(kt=clearInterval(kt))):(kt||(Nt=$t.now(),kt=setInterval(Rt,Mt)),xt=1,St(Lt)))}function jt(t,n,e){var r=new Pt;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Pt.prototype=Tt.prototype={constructor:Pt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ct():+e)+(null==n?0:+n),this._next||wt===this||(wt?wt._next=this:bt=this,wt=this),this._call=t,this._time=e,Ot()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ot())}};var Bt=yt("start","end","cancel","interrupt"),qt=[],Dt=0,Ft=3;function zt(t,n,e,r,a,o){var i=t.__transition;if(i){if(e in i)return}else t.__transition={};!function(t,n,e){var r,a=t.__transition;function o(l){var s,c,f,h;if(1!==e.state)return u();for(s in a)if((h=a[s]).name===e.name){if(h.state===Ft)return jt(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete a[s])}if(jt((function(){e.state===Ft&&(e.state=4,e.timer.restart(i,e.delay,e.time),i(l))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=Ft,r=new Array(f=e.tween.length),s=0,c=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function i(n){for(var a=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,i=r.length;++o<i;)r[o].call(t,a);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete a[n],a)return;delete t.__transition}a[n]=e,e.timer=Tt((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:a,on:Bt,tween:qt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Dt})}function Xt(t,n){var e=Ht(t,n);if(e.state>Dt)throw new Error("too late; already scheduled");return e}function Ut(t,n){var e=Ht(t,n);if(e.state>Ft)throw new Error("too late; already running");return e}function Ht(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Yt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Gt,Wt=180/Math.PI,Zt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vt(t,n,e,r,a,o){var i,u,l;return(i=Math.sqrt(t*t+n*n))&&(t/=i,n/=i),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,l/=u),t*r<n*e&&(t=-t,n=-n,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(n,t)*Wt,skewX:Math.atan(l)*Wt,scaleX:i,scaleY:u}}function Kt(t,n,e,r){function a(t){return t.length?t.pop()+" ":""}return function(o,i){var u=[],l=[];return o=t(o),i=t(i),function(t,r,a,o,i,u){if(t!==a||r!==o){var l=i.push("translate(",null,n,null,e);u.push({i:l-4,x:Yt(t,a)},{i:l-2,x:Yt(r,o)})}else(a||o)&&i.push("translate("+a+n+o+e)}(o.translateX,o.translateY,i.translateX,i.translateY,u,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(a(e)+"rotate(",null,r)-2,x:Yt(t,n)})):n&&e.push(a(e)+"rotate("+n+r)}(o.rotate,i.rotate,u,l),function(t,n,e,o){t!==n?o.push({i:e.push(a(e)+"skewX(",null,r)-2,x:Yt(t,n)}):n&&e.push(a(e)+"skewX("+n+r)}(o.skewX,i.skewX,u,l),function(t,n,e,r,o,i){if(t!==e||n!==r){var u=o.push(a(o)+"scale(",null,",",null,")");i.push({i:u-4,x:Yt(t,e)},{i:u-2,x:Yt(n,r)})}else 1===e&&1===r||o.push(a(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,u,l),o=i=null,function(t){for(var n,e=-1,r=l.length;++e<r;)u[(n=l[e]).i]=n.x(t);return u.join("")}}}var Jt=Kt((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Zt:Vt(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Qt=Kt((function(t){return null==t?Zt:(Gt||(Gt=document.createElementNS("http://www.w3.org/2000/svg","g")),Gt.setAttribute("transform",t),(t=Gt.transform.baseVal.consolidate())?Vt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Zt)}),", ",")",")");function tn(t,n){var e,r;return function(){var a=Ut(this,t),o=a.tween;if(o!==e)for(var i=0,u=(r=e=o).length;i<u;++i)if(r[i].name===n){(r=r.slice()).splice(i,1);break}a.tween=r}}function nn(t,n,e){var r,a;if("function"!=typeof e)throw new Error;return function(){var o=Ut(this,t),i=o.tween;if(i!==r){a=(r=i).slice();for(var u={name:n,value:e},l=0,s=a.length;l<s;++l)if(a[l].name===n){a[l]=u;break}l===s&&a.push(u)}o.tween=a}}function en(t,n,e){var r=t._id;return t.each((function(){var t=Ut(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Ht(t,r).value[n]}}function rn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function an(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function on(){}var un=.7,ln=1/un,sn="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hn=/^#([0-9a-f]{3,8})$/,pn=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),dn=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),gn=new RegExp(`^rgba\\(${sn},${sn},${sn},${cn}\\)$`),vn=new RegExp(`^rgba\\(${fn},${fn},${fn},${cn}\\)$`),mn=new RegExp(`^hsl\\(${cn},${fn},${fn}\\)$`),yn=new RegExp(`^hsla\\(${cn},${fn},${fn},${cn}\\)$`),bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function _n(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=hn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?kn(n):3===e?new En(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Mn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Mn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=pn.exec(t))?new En(n[1],n[2],n[3],1):(n=dn.exec(t))?new En(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=gn.exec(t))?Mn(n[1],n[2],n[3],n[4]):(n=vn.exec(t))?Mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=mn.exec(t))?Tn(n[1],n[2]/100,n[3]/100,1):(n=yn.exec(t))?Tn(n[1],n[2]/100,n[3]/100,n[4]):bn.hasOwnProperty(t)?kn(bn[t]):"transparent"===t?new En(NaN,NaN,NaN,0):null}function kn(t){return new En(t>>16&255,t>>8&255,255&t,1)}function Mn(t,n,e,r){return r<=0&&(t=n=e=NaN),new En(t,n,e,r)}function Nn(t){return t instanceof on||(t=_n(t)),t?new En((t=t.rgb()).r,t.g,t.b,t.opacity):new En}function An(t,n,e,r){return 1===arguments.length?Nn(t):new En(t,n,e,null==r?1:r)}function En(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function $n(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}`}function Sn(){const t=Cn(this.opacity);return`${1===t?"rgb(":"rgba("}${In(this.r)}, ${In(this.g)}, ${In(this.b)}${1===t?")":`, ${t})`}`}function Cn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function In(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pn(t){return((t=In(t))<16?"0":"")+t.toString(16)}function Tn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Rn(t,n,e,r)}function Ln(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=_n(t)),!t)return new Rn;if(t instanceof Rn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,a=Math.min(n,e,r),o=Math.max(n,e,r),i=NaN,u=o-a,l=(o+a)/2;return u?(i=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=l<.5?o+a:2-o-a,i*=60):u=l>0&&l<1?0:i,new Rn(i,u,l,t.opacity)}function Rn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function On(t){return(t=(t||0)%360)<0?t+360:t}function jn(t){return Math.max(0,Math.min(1,t||0))}function Bn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function qn(t,n,e,r,a){var o=t*t,i=o*t;return((1-3*t+3*o-i)*n+(4-6*o+3*i)*e+(1+3*t+3*o-3*i)*r+i*a)/6}rn(on,_n,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ln(this).formatHsl()},formatRgb:xn,toString:xn}),rn(En,An,an(on,{brighter(t){return t=null==t?ln:Math.pow(ln,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?un:Math.pow(un,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(In(this.r),In(this.g),In(this.b),Cn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$n,formatHex:$n,formatHex8:function(){return`#${Pn(this.r)}${Pn(this.g)}${Pn(this.b)}${Pn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Sn,toString:Sn})),rn(Rn,(function(t,n,e,r){return 1===arguments.length?Ln(t):new Rn(t,n,e,null==r?1:r)}),an(on,{brighter(t){return t=null==t?ln:Math.pow(ln,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?un:Math.pow(un,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,a=2*e-r;return new En(Bn(t>=240?t-240:t+120,a,r),Bn(t,a,r),Bn(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Rn(On(this.h),jn(this.s),jn(this.l),Cn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cn(this.opacity);return`${1===t?"hsl(":"hsla("}${On(this.h)}, ${100*jn(this.s)}%, ${100*jn(this.l)}%${1===t?")":`, ${t})`}`}}));const Dn=t=>()=>t;function Fn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Dn(isNaN(t)?n:t)}const zn=function t(n){var e=function(t){return 1==(t=+t)?Fn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Dn(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=An(t)).r,(n=An(n)).r),a=e(t.g,n.g),o=e(t.b,n.b),i=Fn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=a(n),t.b=o(n),t.opacity=i(n),t+""}}return r.gamma=t,r}(1);function Xn(t){return function(n){var e,r,a=n.length,o=new Array(a),i=new Array(a),u=new Array(a);for(e=0;e<a;++e)r=An(n[e]),o[e]=r.r||0,i[e]=r.g||0,u[e]=r.b||0;return o=t(o),i=t(i),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=i(t),r.b=u(t),r+""}}}Xn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[r],o=t[r+1],i=r>0?t[r-1]:2*a-o,u=r<n-1?t[r+2]:2*o-a;return qn((e-r/n)*n,i,a,o,u)}})),Xn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),a=t[(r+n-1)%n],o=t[r%n],i=t[(r+1)%n],u=t[(r+2)%n];return qn((e-r/n)*n,a,o,i,u)}}));var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hn=new RegExp(Un.source,"g");function Yn(t,n){var e,r,a,o=Un.lastIndex=Hn.lastIndex=0,i=-1,u=[],l=[];for(t+="",n+="";(e=Un.exec(t))&&(r=Hn.exec(n));)(a=r.index)>o&&(a=n.slice(o,a),u[i]?u[i]+=a:u[++i]=a),(e=e[0])===(r=r[0])?u[i]?u[i]+=r:u[++i]=r:(u[++i]=null,l.push({i,x:Yt(e,r)})),o=Hn.lastIndex;return o<n.length&&(a=n.slice(o),u[i]?u[i]+=a:u[++i]=a),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function Gn(t,n){var e;return("number"==typeof n?Yt:n instanceof _n?zn:(e=_n(n))?(n=e,zn):Yn)(t,n)}function Wn(t){return function(){this.removeAttribute(t)}}function Zn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vn(t,n,e){var r,a,o=e+"";return function(){var i=this.getAttribute(t);return i===o?null:i===r?a:a=n(r=i,e)}}function Kn(t,n,e){var r,a,o=e+"";return function(){var i=this.getAttributeNS(t.space,t.local);return i===o?null:i===r?a:a=n(r=i,e)}}function Jn(t,n,e){var r,a,o;return function(){var i,u,l=e(this);if(null!=l)return(i=this.getAttribute(t))===(u=l+"")?null:i===r&&u===a?o:(a=u,o=n(r=i,l));this.removeAttribute(t)}}function Qn(t,n,e){var r,a,o;return function(){var i,u,l=e(this);if(null!=l)return(i=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:i===r&&u===a?o:(a=u,o=n(r=i,l));this.removeAttributeNS(t.space,t.local)}}function te(t,n){var e,r;function a(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,a)),e}return a._value=n,a}function ne(t,n){var e,r;function a(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,a)),e}return a._value=n,a}function ee(t,n){return function(){Xt(this,t).delay=+n.apply(this,arguments)}}function re(t,n){return n=+n,function(){Xt(this,t).delay=n}}function ae(t,n){return function(){Ut(this,t).duration=+n.apply(this,arguments)}}function oe(t,n){return n=+n,function(){Ut(this,t).duration=n}}var ie=ht.prototype.constructor;function ue(t){return function(){this.style.removeProperty(t)}}var le=0;function se(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ce(){return++le}var fe=ht.prototype;se.prototype=function(t){return ht().transition(t)}.prototype={constructor:se,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n(t));for(var a=this._groups,o=a.length,i=new Array(o),u=0;u<o;++u)for(var l,s,c=a[u],f=c.length,h=i[u]=new Array(f),p=0;p<f;++p)(l=c[p])&&(s=t.call(l,l.__data__,p,c))&&("__data__"in l&&(s.__data__=l.__data__),h[p]=s,zt(h[p],e,r,p,h,Ht(l,r)));return new se(i,this._parents,e,r)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=a(t));for(var r=this._groups,o=r.length,i=[],u=[],l=0;l<o;++l)for(var s,c=r[l],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var p,d=t.call(s,s.__data__,h,c),g=Ht(s,e),v=0,m=d.length;v<m;++v)(p=d[v])&&zt(p,n,e,v,d,g);i.push(d),u.push(s)}return new se(i,u,n,e)},selectChild:fe.selectChild,selectChildren:fe.selectChildren,filter:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var i,u=n[a],l=u.length,s=r[a]=[],c=0;c<l;++c)(i=u[c])&&t.call(i,i.__data__,c,u)&&s.push(i);return new se(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,a=e.length,o=Math.min(r,a),i=new Array(r),u=0;u<o;++u)for(var l,s=n[u],c=e[u],f=s.length,h=i[u]=new Array(f),p=0;p<f;++p)(l=s[p]||c[p])&&(h[p]=l);for(;u<r;++u)i[u]=n[u];return new se(i,this._parents,this._name,this._id)},selection:function(){return new ie(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ce(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i,u=r[o],l=u.length,s=0;s<l;++s)if(i=u[s]){var c=Ht(i,n);zt(i,t,e,s,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new se(r,this._parents,t,e)},call:fe.call,nodes:fe.nodes,node:fe.node,size:fe.size,empty:fe.empty,each:fe.each,on:function(t,n){var e=this._id;return arguments.length<2?Ht(this.node(),e).on.on(t):this.each(function(t,n,e){var r,a,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Xt:Ut;return function(){var i=o(this,t),u=i.on;u!==r&&(a=(r=u).copy()).on(n,e),i.on=a}}(e,t,n))},attr:function(t,n){var e=w(t),r="transform"===e?Qt:Gn;return this.attrTween(t,"function"==typeof n?(e.local?Qn:Jn)(e,r,en(this,"attr."+t,n)):null==n?(e.local?Zn:Wn)(e):(e.local?Kn:Vn)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=w(t);return this.tween(e,(r.local?te:ne)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Jt:Gn;return null==n?this.styleTween(t,function(t,n){var e,r,a;return function(){var o=I(this,t),i=(this.style.removeProperty(t),I(this,t));return o===i?null:o===e&&i===r?a:a=n(e=o,r=i)}}(t,r)).on("end.style."+t,ue(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,a,o;return function(){var i=I(this,t),u=e(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=I(this,t)),i===l?null:i===r&&l===a?o:(a=l,o=n(r=i,u))}}(t,r,en(this,"style."+t,n))).each(function(t,n){var e,r,a,o,i="style."+n,u="end."+i;return function(){var l=Ut(this,t),s=l.on,c=null==l.value[i]?o||(o=ue(n)):void 0;s===e&&a===c||(r=(e=s).copy()).on(u,a=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,a,o=e+"";return function(){var i=I(this,t);return i===o?null:i===r?a:a=n(r=i,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,a;function o(){var o=n.apply(this,arguments);return o!==a&&(r=(a=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(en(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,a=Ht(this.node(),e).tween,o=0,i=a.length;o<i;++o)if((r=a[o]).name===t)return r.value;return null}return this.each((null==n?tn:nn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ee:re)(n,t)):Ht(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ae:oe)(n,t)):Ht(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ut(this,t).ease=n}}(n,t)):Ht(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Ut(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,a=e.size();return new Promise((function(o,i){var u={value:i},l={value:function(){0==--a&&o()}};e.each((function(){var e=Ut(this,r),a=e.on;a!==t&&((n=(t=a).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),e.on=n})),0===a&&o()}))},[Symbol.iterator]:fe[Symbol.iterator]};var he={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function pe(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}ht.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,a,o=t.__transition,i=!0;if(o){for(a in n=null==n?null:n+"",o)(e=o[a]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[a]):i=!1;i&&delete t.__transition}}(this,t)}))},ht.prototype.transition=function(t){var n,e;t instanceof se?(n=t._id,t=t._name):(n=ce(),(e=he).time=Ct(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i,u=r[o],l=u.length,s=0;s<l;++s)(i=u[s])&&zt(i,t,n,s,u,e||pe(i,n));return new se(r,this._parents,t,n)};const{abs:de,max:ge,min:ve}=Math;function me(t){return{type:t}}["w","e"].map(me),["n","s"].map(me),["n","w","e","s","nw","ne","sw","se"].map(me);const ye=Math.PI/180,be=180/Math.PI,we=.96422,xe=1,_e=.82521,ke=4/29,Me=6/29,Ne=3*Me*Me,Ae=Me*Me*Me;function Ee(t){if(t instanceof $e)return new $e(t.l,t.a,t.b,t.opacity);if(t instanceof Le)return Re(t);t instanceof En||(t=Nn(t));var n,e,r=Pe(t.r),a=Pe(t.g),o=Pe(t.b),i=Se((.2225045*r+.7168786*a+.0606169*o)/xe);return r===a&&a===o?n=e=i:(n=Se((.4360747*r+.3850649*a+.1430804*o)/we),e=Se((.0139322*r+.0971045*a+.7141733*o)/_e)),new $e(116*i-16,500*(n-i),200*(i-e),t.opacity)}function $e(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Se(t){return t>Ae?Math.pow(t,1/3):t/Ne+ke}function Ce(t){return t>Me?t*t*t:Ne*(t-ke)}function Ie(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Pe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Te(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Le)return new Le(t.h,t.c,t.l,t.opacity);if(t instanceof $e||(t=Ee(t)),0===t.a&&0===t.b)return new Le(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*be;return new Le(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Le(t,n,e,null==r?1:r)}function Le(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Re(t){if(isNaN(t.h))return new $e(t.l,0,0,t.opacity);var n=t.h*ye;return new $e(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}rn($e,(function(t,n,e,r){return 1===arguments.length?Ee(t):new $e(t,n,e,null==r?1:r)}),an(on,{brighter(t){return new $e(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new $e(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new En(Ie(3.1338561*(n=we*Ce(n))-1.6168667*(t=xe*Ce(t))-.4906146*(e=_e*Ce(e))),Ie(-.9787684*n+1.9161415*t+.033454*e),Ie(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),rn(Le,Te,an(on,{brighter(t){return new Le(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Le(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Re(this).rgb()}}));var Oe={},je={};function Be(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function qe(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function De(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Fe(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,a=[],o=t.length,i=0,u=0,l=o<=0,s=!1;function c(){if(l)return je;if(s)return s=!1,Oe;var n,r,a=i;if(34===t.charCodeAt(a)){for(;i++<o&&34!==t.charCodeAt(i)||34===t.charCodeAt(++i););return(n=i)>=o?l=!0:10===(r=t.charCodeAt(i++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(i)&&++i),t.slice(a+1,n-1).replace(/""/g,'"')}for(;i<o;){if(10===(r=t.charCodeAt(n=i++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(i)&&++i;else if(r!==e)continue;return t.slice(a,n)}return l=!0,t.slice(a,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==je;){for(var f=[];r!==Oe&&r!==je;)f.push(r),r=c();n&&null==(f=n(f,u++))||a.push(f)}return a}function a(n,e){return n.map((function(n){return e.map((function(t){return i(n[t])})).join(t)}))}function o(n){return n.map(i).join(t)}function i(t){return null==t?"":t instanceof Date?(a=(e=t).getUTCHours(),o=e.getUTCMinutes(),i=e.getUTCSeconds(),u=e.getUTCMilliseconds(),isNaN(e)?"Invalid Date":((r=e.getUTCFullYear())<0?"-"+De(-r,6):r>9999?"+"+De(r,6):De(r,4))+"-"+De(e.getUTCMonth()+1,2)+"-"+De(e.getUTCDate(),2)+(u?"T"+De(a,2)+":"+De(o,2)+":"+De(i,2)+"."+De(u,3)+"Z":i?"T"+De(a,2)+":"+De(o,2)+":"+De(i,2)+"Z":o||a?"T"+De(a,2)+":"+De(o,2)+"Z":"")):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var e,r,a,o,i,u}return{parse:function(t,n){var e,a,o=r(t,(function(t,r){if(e)return e(t,r-1);a=t,e=n?function(t,n){var e=Be(t);return function(r,a){return n(e(r),a,t)}}(t,n):Be(t)}));return o.columns=a||[],o},parseRows:r,format:function(n,e){return null==e&&(e=qe(n)),[e.map(i).join(t)].concat(a(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=qe(t)),a(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:i}}var ze=Fe(","),Xe=(ze.parse,ze.parseRows),Ue=(ze.format,ze.formatBody,ze.formatRows,ze.formatRow,ze.formatValue,Fe("\t")),He=(Ue.parse,Ue.parseRows);function Ye(t){return"string"==typeof t?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],st)}function Ge(t,n,e){this.k=t,this.x=n,this.y=e}Ue.format,Ue.formatBody,Ue.formatRows,Ue.formatRow,Ue.formatValue,Ge.prototype={constructor:Ge,scale:function(t){return 1===t?this:new Ge(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ge(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ge(1,0,0),Ge.prototype;var We=e(6929),Ze=e.n(We),Ve=e(3379),Ke=e.n(Ve),Je=e(7795),Qe=e.n(Je),tr=e(569),nr=e.n(tr),er=e(3565),rr=e.n(er),ar=e(9216),or=e.n(ar),ir=e(4589),ur=e.n(ir),lr=e(28),sr={};sr.styleTagTransform=ur(),sr.setAttributes=rr(),sr.insert=nr().bind(null,"head"),sr.domAPI=Qe(),sr.insertStyleElement=or(),Ke()(lr.Z,sr),lr.Z&&lr.Z.locals&&lr.Z.locals;var cr=null;let fr=new Worker(new URL(e.p+e.u(93),e.b));fr.onmessage=vr;var hr={minNgramLength:1},pr=null,dr=null;let gr=null;var vr=t=>{let n=t.data;switch(cr=null,n.type){case"update":let t={...n.content};dr&&dr(`Found ${Object.entries(n.content).map((([t,n])=>`${t}: ${n}`)).join(", ")}, generating...`,t);break;case"ngrams":let e=n.content.ngrams;cr=(cr=Object.entries(e).map((([t,n])=>({ngram:t,phrase:n.commonPhrase,responses:n.responses,count:n.responses.length})))).sort(((t,n)=>n.count-t.count)),gr&&gr(cr);break;case"categories":let r=n.content.categories;cr=(cr=Object.entries(r).map((([t,n])=>({ngram:t,phrase:t,count:n})))).sort(((t,n)=>n.count-t.count)),gr&&gr(cr);break;default:console.log("Unknown message type",n.type)}};const mr={set onStatusUpdate(t){return dr=t,fr.onmessage=vr,mr},generateNgramList:async t=>(pr=t||pr,new Promise(((t,n)=>{fr.postMessage({responses:pr,...hr}),gr=t,fr.onmessage=vr}))),get list(){return cr},applySettings:async t=>(hr={...hr,...t},pr?new Promise(((t,n)=>{fr.postMessage({responses:pr,...hr}),gr=t,fr.onmessage=vr})):null)},yr=mr;var br={data:null,file:null,type:null,loading:!1};const wr={data:null,file:null,type:null,loading:!1},xr=new FileReader;xr.onload=async t=>{br.loading=!1,"text/csv"===br.file.type?(br.data=Xe(t.target.result).filter((t=>t.length>0&&t.some((t=>t.length>0)))),br.type="table"):(br.data=t.target.result.split("\n").filter((t=>t.length>0)),br.type="text"),kr()};var _r={change:[]};function kr(){_r.change.forEach((t=>t(br)))}var Mr=e(8670),Nr=e.n(Mr);const Ar=e.p+"932c5ae11b4121f29343.txt",Er=document.getElementById("status");var $r=new function(){return{set source(t){if(br={...wr},t instanceof File)br.loading=!0,br.file=t,xr.readAsText(br.file);else if(t instanceof Array&&t.every((t=>t instanceof Array)))br.type="table",br.loading=!1,br.data=t.filter((t=>t.length>0&&t.some((t=>t.length>0))));else if("string"==typeof t){let n=He(t).filter((t=>t.length>0&&t.some((t=>t.length>0))));n[0].length>1&&n.every((t=>t.length===n[0].length))?(br.type="table",br.data=n):(br.data=t.split("\n").filter((t=>t.length>0)),br.type="text"),br.loading=!1}kr()},get source(){return br},set tableColumnIndex(t){tableData&&t!==br.columnIndex&&(br.columnIndex=t,br.data=tableData.map((n=>n[t])),br.ngrams=null),kr()},addEventListener:(t,n)=>{_r[t]&&_r[t].push(n)},removeEventListener:(t,n)=>{_r[t]&&(_r[t]=_r[t].filter((t=>t!==n)))}}};function Sr(t,n){Er.innerHTML=t,n&&(Cr=n)}var Cr={},Ir={_selected:null,get selected(){return this._selected},set selected(t){this._selected=t,Ye("#cloud").select("g").selectAll("text").classed("selected",(n=>n?.key===t));let n=[];if(t){let e=yr.list.find((n=>n.ngram===t));n=e.responses,Ye("#responseCount").text(`Item count: ${e.count}`),document.getElementById("responses").scrollTop=0,document.getElementById("responses").parentElement.classList.contains("expanded")||document.getElementById("responses").parentElement.classList.add("expanded")}Ye("#responseCount").classed("hidden",!t),Ye("#responseList").selectAll("li").data(n?.map((t=>t.markup.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;span class="match"&gt;(.*?)&lt;\/span&gt;/g,(t=>t.replace(/&lt;span class="match"&gt;/g,'<span class="match">').replace(/&lt;\/span&gt;/g,"</span>")))))||[]).join("li").html((t=>t)),Ye("#responsesEmpty").classed("hidden",t)}},Pr={family:"sans-serif",weight:"bold"},Tr=100;async function Lr(t){if(!t)return;if(0===(t=t.filter((t=>t.ngram.trim().length>0))).length)return void Vr("No repeating phrases found.");let n=`${Pr.weight?Pr.weight+" ":""}1em "${Pr.family}"`;document.fonts.check(n)||await document.fonts.load(n),t=t.slice(0,Tr);let e=Math.max(...t.map((t=>t.count)));function r(t){return t.count/e}Math.max(...t.map((t=>t.phrase.length)));let a=Math.max(...t.map((t=>t.phrase.length*r(t)))),o=document.getElementById("cloud").getBoundingClientRect(),i=Math.min(o.height/Math.min(6,t.length),o.width/(.6*a)),u=Ze()().size([o.width,o.height]).words(t.map((function(t){let n={text:t.phrase,key:t.ngram,size:i*r(t),count:t.count};return t.responses&&(n.responses=t.responses),n}))).padding(1).font(Pr.family).rotate((()=>0)).fontSize((function(t){return t.size})).on("end",(t=>{!function(t,n){console.log("Drawing words",t.length),Ye("#cloud").select(".loading")?.remove(),Ye("#cloud").select("g").attr("transform","translate("+n.size()[0]/2+","+n.size()[1]/2+")").style("font-family",Pr.family).style("font-weight",Pr.weight).selectAll("text").data(t,(t=>t.key)).join((function(t){t.append("text").attr("data-key",(t=>t.key)).style("font-size",(function(t){return t.size+"px"})).style("transform",(function(t){return`translate(${t.x}px, ${t.y}px)`})).attr("text-anchor","middle").text((function(t){return t.text})).on("mousedown",(function(t,n){Ir.selected=n.key})).style("opacity",0).transition().duration(500).style("opacity",null)}),(function(t){t.text((t=>t.text)).style("transform",(function(t){return`translate(${t.x}px, ${t.y}px)`})).style("font-size",(function(t){return t.size+"px"}))}),(function(t){t.on("mouseover",null).on("mouseout",null).style("opacity",1).transition().duration(300).style("opacity",0).remove()})),Rr.redrawColorsOnly()}(t,u),Sr(`Done! (Responses: ${Object.entries(Cr).map((([t,n])=>`${t}: ${n}`)).join(", ")}, Phrases: ${yr.list.length})`,Cr)}));Pr.weight&&u.fontWeight(Pr.weight),u.start()}const Rr=function(){let t=90,n=0,e=.4,r=30;function a(a){if(!a?.key)return null;let o=function(t){let n=1779033703,e=3144134277,r=1013904242,a=2773480762;for(let o,i=0;i<t.length;i++)o=t.charCodeAt(i),n=e^Math.imul(n^o,597399067),e=r^Math.imul(e^o,2869860233),r=a^Math.imul(r^o,951274213),a=n^Math.imul(a^o,2716044179);return n=Math.imul(r^n>>>18,597399067),e=Math.imul(a^e>>>22,2869860233),r=Math.imul(n^r>>>17,951274213),a=Math.imul(e^a>>>19,2716044179),n^=e^r^a,e^=n,r^=n,a^=n,[n>>>0,e>>>0,r>>>0,a>>>0]}(a.key);var i;let u=(i=o[2],function(){var t=(i=2654435769+(i|=0)|0)^i>>>16;return t=Math.imul(t,569420461),t^=t>>>15,t=Math.imul(t,1935289751),((t^=t>>>15)>>>0)/4294967296})()*t+n+.5*t;return window.matchMedia("(color-gamut: p3)").matches?`oklch(${r}% ${e} ${u})`:Te(u,e,r)}function o(){Ye("#cloud").select("g").selectAll("text").attr("fill",a)}return{setHueRange:function(n){t=n,o()},setHueOffset:function(t){n=t,o()},setChroma:function(t){e=t,o()},setLightness:function(t){r=t,o()},redrawColorsOnly:o}}(),Or=document.getElementById("hueRange"),jr=document.getElementById("hueOffset"),Br=document.getElementById("chroma"),qr=document.getElementById("lightness"),Dr=()=>{const t=parseFloat(Or.value),n=parseFloat(jr.value),e=parseFloat(Br.value),r=parseFloat(qr.value);Rr.setHueRange(t),Rr.setHueOffset(n),Rr.setChroma(e),Rr.setLightness(r)};Or.oninput=Dr,jr.oninput=Dr,Br.oninput=Dr,qr.oninput=Dr,Dr(),document.getElementById("cloud").onclick=t=>{t.target===document.getElementById("cloud")&&(Ir.selected=null)};const Fr=document.querySelector("svg#cloud");new ResizeObserver((t=>{for(let n of t)clearTimeout(window.resizeTimer),window.resizeTimer=setTimeout((()=>{Lr(yr.list)}),100)})).observe(Fr);var zr=null;function Xr(t){let n=null==t||null;Ye(Yr.select).attr("disabled",n).selectAll("option").data(t||["Not a table"]).join("option").attr("value",t?(t,n)=>n:null).text((t=>t)),Yr.prev.disabled=n,Yr.next.disabled=n,t&&(Yr.select.value=0)}var Ur=0,Hr={set columnIndex(t){Ur=Math.max(0,Math.min(t,zr.length-1)),yr.generateNgramList($r.source.data.map((t=>t[Ur]))).then((t=>{0===t.length?Vr("No repeating phrases found."):Lr(t)})),Yr.select.value!=Ur&&(Yr.select.value=Ur)},get columnIndex(){return Ur}};const Yr={select:document.getElementById("columnSelect"),prev:document.getElementById("prevColumn"),next:document.getElementById("nextColumn")};Yr.select.onchange=async t=>{Hr.columnIndex=parseInt(t.target.value)},Yr.prev.onclick=t=>{Hr.columnIndex--},Yr.next.onclick=t=>{Hr.columnIndex++},$r.addEventListener("change",(async t=>{if(zr=null,t.loading)return Er.innerHTML="Loading...",t.file?Vr("Loading file..."):Vr("Processing text..."),void Xr();[...Gr.files].includes(t.file)||(Gr.value=null),t.data&&("table"===t.type?await async function(t){let n=t.data;Xr(zr=n.shift());let e=null;for(let t=0;t<zr.length;t++){let r=n.map((n=>n[t])),a=await yr.generateNgramList(r);if(a=a.filter((t=>t.ngram.trim().length>0)),a.length>0){e=r,Ur=t;break}}e||(Ur=0),document.getElementById("columnSelect").value=Hr.columnIndex}(t):(Xr(),await yr.generateNgramList(t.data)),0===yr.list.length?Vr("No repeating phrases found in the data."):await Lr(yr.list))}));const Gr=document.getElementById("textfile");function Wr(t){return!(!t.dataTransfer.types.includes("text/plain")&&!t.dataTransfer.types.includes("text/csv"))}function Zr(t){if(t.dataTransfer.types.includes("Files")){const n=t.dataTransfer.items[0]||t.dataTransfer.files[0];if("text/plain"===n.type||"text/csv"===n.type)return!0}return!1}function Vr(t){Ir.selected=null,Ye("#cloud").select("g").selectAll("text").remove(),Ye("#cloud").select("g").attr("transform",null).append("text").classed("loading",!0).attr("x","50%").attr("y","50%").attr("text-anchor","middle").text(t)}Gr.onchange=t=>{$r.source=t.target.files[0]},document.getElementById("generate").onclick=async t=>{let n=await yr.generateNgramList();await Lr(n)},function(t){const n=t.querySelector(".dropZoneBox");function e(){n.classList.add("hidden")}t.addEventListener("dragover",(t=>{t.preventDefault(),t.stopPropagation(),a(t)&&n.classList.remove("hidden")})),t.addEventListener("dragleave",(t=>{t.preventDefault(),t.stopPropagation(),0===t.clientX&&0===t.clientY&&e()})),t.addEventListener("drop",(t=>{t.preventDefault(),t.stopPropagation(),e(),"function"==typeof r&&r(t)})),e();var r=null,a=null,o={ondrop:function(t){return r=t,o},isallowed:function(t){return a=t,o}};return o}(document.getRootNode()).isallowed((t=>Wr(t)||Zr(t))).ondrop((t=>{Wr(t)?$r.source=t.dataTransfer.getData("text/plain"):Zr(t)&&(Gr.value=null,$r.source=t.dataTransfer.items[0]?.getAsFile()||t.dataTransfer.files[0])}));const Kr=document.getElementById("ngramLength"),Jr=document.getElementById("ngramLengthDisplay");async function Qr(t){Jr.textContent=t.target.value,await yr.applySettings({minNgramLength:t.target.value}),yr.list&&await Lr(yr.list)}Kr.oninput=Qr,Qr({target:Kr}),document.getElementById("download").onclick=function(){const t=document.getElementById("cloud");let n=(new XMLSerializer).serializeToString(t);const e=t.getBoundingClientRect().width,r=t.getBoundingClientRect().height,a=`<svg$1width="${Math.ceil(e)}px"`,o=`<svg$1height="${Math.ceil(r)}px"`;if(n=n.replace(/<svg([^>]*)width="(\d+\S*)"/,a),n=n.replace(/<svg([^>]*)height="(\d+\S*)"/,o),n=n.replace(/oklch\(([\s\S]+?)% ([\s\S]+?) ([\s\S]+?)\)/g,((t,n,e,r)=>{let a=Nr().oklch(n/100,e,r).rgb();return`rgb(${a[0]}, ${a[1]}, ${a[2]})`})),"sans-serif"!==Pr.family){const t=`<style type="text/css">@import url('https://fonts.googleapis.com/css2?family=${Pr.family}${Pr.weight?`:wght@${Pr.weight}`:""}');</style>`;n=n.replace(/<svg([^>]*)>/,`<svg$1>${t}`)}const i=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(i),l=document.createElement("a");l.href=u,l.download="phrase cloud.svg",l.click(),l.remove(),URL.revokeObjectURL(u)},yr.onStatusUpdate=Sr,fetch(Ar).then((t=>t.text())).then((t=>{$r.source=t})),document.addEventListener("paste",(async t=>{if(t.clipboardData.types.includes("Files")){let n=t.clipboardData.items[0]?.getAsFile()||t.clipboardData.files[0];if("text/plain"===n.type||"text/csv"===n.type)return void($r.source=n)}if(t.clipboardData.types.includes("text/plain")){let n=t.clipboardData.getData("text/plain");$r.source=n}}))})()})();