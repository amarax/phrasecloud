(()=>{"use strict";var e,r,t={6736:(e,r,t)=>{const n=t(1529)(t(2533)),o=n.its;function a(e,r,t){let n=[];for(let o=r;o<r+t&&o<e.length();o++)n.push(e.itemAt(o));return n}n.as,self.onmessage=e=>{const r=[...new Set(e.data.responses)].map((e=>n.readDoc(e)));self.postMessage({type:"update",content:{responses:r.length}});let t={},s=[];function p(e){return e.map((e=>e.out(o.lemma))).join(" ")}for(let e=6;e>=1;e--)r.forEach(((r,n)=>{r.sentences().each((r=>{let c=r.tokens().filter((e=>"word"==e.out(o.type)&&!e.out(o.stopWordFlag)&&!s[n]?.has(e.index())));for(let r=0;r<=c.length()-e;r++){let o=a(c,r,e),s=p(o);t[s]||(t[s]=[]),t[s].push({responseIndex:n,ngram:o})}}))})),Object.entries(t).forEach((([e,r])=>{r.length<4&&delete t[e]})),Object.values(t).forEach((e=>{e.forEach((({responseIndex:e,ngram:r})=>{void 0===s[e]&&(s[e]=new Set),r.forEach((r=>s[e].add(r.index())))}))}));Object.entries(t).forEach((([e,r])=>{t[e]=r.map((e=>{let r=e.ngram[0].parentDocument().out(),t=n.readDoc(r).tokens(),a=t.itemAt(e.ngram[0].index()),s=t.itemAt(e.ngram[e.ngram.length-1].index()),p=['<span class="match">',"</span>"];1==e.ngram.length?a.markup(p[0],p[1]):(a.markup(p[0],""),s.markup("",p[1]));let c=a.parentDocument().out(o.markedUpText);return{response:r,phrase:c.slice(c.indexOf(p[0])+p[0].length,c.indexOf(p[1])),markup:c}}));let a={};t[e].forEach((e=>{a[e.phrase]||(a[e.phrase]=0),a[e.phrase]++}));let s=Object.entries(a).reduce(((e,r)=>e[1]>r[1]?e:r))[0];t[e]={commonPhrase:s,responses:t[e]}})),self.postMessage({type:"ngrams",content:{ngrams:t}})}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,o.x=()=>{var e=o.O(void 0,[968],(()=>o(6736)));return o.O(e)},e=[],o.O=(r,t,n,a)=>{if(!t){var s=1/0;for(l=0;l<e.length;l++){for(var[t,n,a]=e[l],p=!0,c=0;c<t.length;c++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(p=!1,a<s&&(s=a));if(p){e.splice(l--,1);var i=n();void 0!==i&&(r=i)}}return r}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[t,n,a]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((r,t)=>(o.f[t](e,r),r)),[])),o.u=e=>e+".phrasecloud.bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var r=o.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&!e;)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={736:1};o.f.i=(r,t)=>{e[r]||importScripts(o.p+o.u(r))};var r=self.webpackChunkphrasecloud=self.webpackChunkphrasecloud||[],t=r.push.bind(r);r.push=r=>{var[n,a,s]=r;for(var p in a)o.o(a,p)&&(o.m[p]=a[p]);for(s&&s(o);n.length;)e[n.pop()]=1;t(r)}})(),r=o.x,o.x=()=>o.e(968).then(r),o.x()})();